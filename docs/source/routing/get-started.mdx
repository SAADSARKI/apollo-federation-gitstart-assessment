---
title: Apollo Router Quickstart
subtitle: Run the router in dev mode for an example graph
description: This quickstart tutorial walks you through installing an Apollo Router binary, running it with an example supergraph schema, and making test queries with Apollo Sandbox
---

import ElasticNotice from "../../../shared/elastic-notice.mdx";

Hello! Let's run an Apollo Router binary for the very first time.

You will:

- Learn why the router is a graph's runtime.
- Download a router binary.
- Download a supergraph schema.
- Run the router for your supergraph in development mode.
- Make queries to the running router with the Apollo Sandbox IDE.

## 0. Apollo Router is the graph runtime

Apollo Router is often called the runtime or execution engine of Apollo. That's because it runs a federated graph. It accepts incoming GraphQL client requests, plans how to efficiently call the APIs that make up the graph, orchestrates the API calls to fetch the requested data, and bundles the data into a response.

You can run a router locally or scale up to deploy a fleet in your own infrastructure. Each router is an endpoint to a GraphQL API. It's the gateway for all client requests to a graph. Like API gateways in general, a router offers a central place to implement cross-cutting concerns, such as authentication, authorization, caching, logging, monitoring, rate limiting, and demand control.

## 1. Download and extract the router binary

<ElasticNotice />

- Download and install the latest version of the router binary with a single command line:

    ```bash showLineNumbers=false
    curl -sSL https://router.apollo.dev/download/nix/latest | sh
    ```

    <ExpansionPanel title="Download a specific router version">

    To download and install a specific version of router, set the version in the download URL path.

    For example, to download router v2.0.0:

    ```bash showLineNumbers=false
    curl -sSL https://router.apollo.dev/download/nix/v2.0.0 | sh
    ```

    </ExpansionPanel>

    > Optionally, go to [router releases](https://github.com/apollographql/router/releases) in GitHub to download and extract a bundle.

- Check that your router installed successfully by running the `router` binary from your project's root directory:

    ```bash showLineNumbers=false
    ./router --version
    ```

## 2. Download a supergraph schema

A router needs a schema for the supergraph that it's orchestrating. For this guide, we're downloading an example supergraph schema that we'll provide to the router.

1. From your project's root directory, run the following to download and save a supergraph schema to a file:

```bash
curl -sSL https://supergraph.demo.starstuff.dev/ > supergraph-schema.graphql
```

<ExpansionPanel title="Content of supergraph schema">

```graphql title="supergraph-schema.graphql"
schema
  @link(url: "https://specs.apollo.dev/link/v1.0")
  @link(url: "https://specs.apollo.dev/join/v0.3", for: EXECUTION) {
  query: Query
  mutation: Mutation
}

directive @join__enumValue(graph: join__Graph!) repeatable on ENUM_VALUE

directive @join__field(
  graph: join__Graph
  requires: join__FieldSet
  provides: join__FieldSet
  type: String
  external: Boolean
  override: String
  usedOverridden: Boolean
) repeatable on FIELD_DEFINITION | INPUT_FIELD_DEFINITION

directive @join__graph(name: String!, url: String!) on ENUM_VALUE

directive @join__implements(
  graph: join__Graph!
  interface: String!
) repeatable on OBJECT | INTERFACE

directive @join__type(
  graph: join__Graph!
  key: join__FieldSet
  extension: Boolean! = false
  resolvable: Boolean! = true
  isInterfaceObject: Boolean! = false
) repeatable on OBJECT | INTERFACE | UNION | ENUM | INPUT_OBJECT | SCALAR

directive @join__unionMember(
  graph: join__Graph!
  member: String!
) repeatable on UNION

directive @link(
  url: String
  as: String
  for: link__Purpose
  import: [link__Import]
) repeatable on SCHEMA

scalar join__FieldSet

enum join__Graph {
  ACCOUNTS
    @join__graph(name: "accounts", url: "https://accounts.demo.starstuff.dev/")
  INVENTORY
    @join__graph(
      name: "inventory"
      url: "https://inventory.demo.starstuff.dev/"
    )
  PRODUCTS
    @join__graph(name: "products", url: "https://products.demo.starstuff.dev/")
  REVIEWS
    @join__graph(name: "reviews", url: "https://reviews.demo.starstuff.dev/")
}

scalar link__Import

enum link__Purpose {
  """
  `SECURITY` features provide metadata necessary to securely resolve fields.
  """
  SECURITY

  """
  `EXECUTION` features provide metadata necessary for operation execution.
  """
  EXECUTION
}

type Mutation @join__type(graph: PRODUCTS) @join__type(graph: REVIEWS) {
  createProduct(upc: ID!, name: String): Product @join__field(graph: PRODUCTS)
  createReview(upc: ID!, id: ID!, body: String): Review
    @join__field(graph: REVIEWS)
}

type Product
  @join__type(graph: ACCOUNTS, key: "upc", extension: true)
  @join__type(graph: INVENTORY, key: "upc")
  @join__type(graph: PRODUCTS, key: "upc")
  @join__type(graph: REVIEWS, key: "upc") {
  upc: String!
  weight: Int
    @join__field(graph: INVENTORY, external: true)
    @join__field(graph: PRODUCTS)
  price: Int
    @join__field(graph: INVENTORY, external: true)
    @join__field(graph: PRODUCTS)
  inStock: Boolean @join__field(graph: INVENTORY)
  shippingEstimate: Int @join__field(graph: INVENTORY, requires: "price weight")
  name: String @join__field(graph: PRODUCTS)
  reviews: [Review] @join__field(graph: REVIEWS)
  reviewsForAuthor(authorID: ID!): [Review] @join__field(graph: REVIEWS)
}

type Query
  @join__type(graph: ACCOUNTS)
  @join__type(graph: INVENTORY)
  @join__type(graph: PRODUCTS)
  @join__type(graph: REVIEWS) {
  me: User @join__field(graph: ACCOUNTS)
  recommendedProducts: [Product] @join__field(graph: ACCOUNTS)
  topProducts(first: Int = 5): [Product] @join__field(graph: PRODUCTS)
}

type Review @join__type(graph: REVIEWS, key: "id") {
  id: ID!
  body: String
  author: User @join__field(graph: REVIEWS, provides: "username")
  product: Product
}

type User
  @join__type(graph: ACCOUNTS, key: "id")
  @join__type(graph: REVIEWS, key: "id") {
  id: ID!
  name: String @join__field(graph: ACCOUNTS)
  username: String
    @join__field(graph: ACCOUNTS)
    @join__field(graph: REVIEWS, external: true)
  reviews: [Review] @join__field(graph: REVIEWS)
}
```

</ExpansionPanel>

## 3. Run and test the router in dev mode

You can run the router in development mode, where it enables some useful development-only features. This dev mode includes running its own [Apollo Sandbox](/graphos/explorer/sandbox/), a local GraphQL server that's running the router's supergraph and that has its own browser-based IDE that you make test queries with.

Let's now run the router in dev mode, using the supergraph schema you saved, and make some test queries in its Sandbox: 

1. Run the router with command-line options that enable dev mode and provide a path to a supergraph schema:

    ```sh
    ./router --dev --supergraph supergraph-schema.graphql
    ```

    <ExpansionPanel title="Example router output">

    ```sh
    2025-04-25T21:54:05.910202Z INFO  Running with *development* mode settings which facilitate development experience (e.g., introspection enabled)
    2025-04-25T21:54:05.981114Z INFO  Apollo Router v2.1.3 // (c) Apollo Graph, Inc. // Licensed as ELv2 (https://go.apollo.dev/elv2)
    2025-04-25T21:54:05.981141Z INFO  Anonymous usage data is gathered to inform Apollo product development.  See https://go.apollo.dev/o/privacy for details.
    2025-04-25T21:54:05.985764Z INFO  state machine transitioned event="UpdateLicense(Unlicensed)" state=Startup previous_state="Startup"
    2025-04-25T21:54:05.987948Z INFO  state machine transitioned event="UpdateConfiguration(<redacted>)" state=Startup previous_state="Startup"
    2025-04-25T21:54:05.988144Z INFO  state machine transitioned event="NoMoreLicense" state=Startup previous_state="Startup"
    2025-04-25T21:54:06.010232Z INFO  Health check exposed at http://127.0.0.1:8088/health
    2025-04-25T21:54:06.010717Z WARN  Connector debugging is enabled, this may expose sensitive information.
    2025-04-25T21:54:06.405064Z INFO  GraphQL endpoint exposed at http://127.0.0.1:4000/ ðŸš€
    2025-04-25T21:54:06.405628Z INFO  You're using some "experimental" features of the Apollo Router (those which have their configuration prefixed by "experimental_").
    We may make breaking changes in future releases. To help us design the stable version we need your feedback.
    Here is a list of links where you can give your opinion:

        - experimental_response_trace_id: https://github.com/apollographql/router/discussions/2147

    For more information about launch stages, please see the documentation here: https://www.apollographql.com/docs/resources/product-launch-stages/
    2025-04-25T21:54:06.406568Z INFO  state machine transitioned event="UpdateSchema(<redacted>)" state=Running previous_state="Startup"
    2025-04-25T21:54:06.406591Z INFO  state machine transitioned event="NoMoreConfiguration" state=Running previous_state="Running"
    ```

    </ExpansionPanel>

1. Open a browser and go to the URL of the router's Sandbox, `http://127.0.0.1:4000`.

1. Copy and paste the example query into the **Operation** pane:

```graphql
query Query {
  recommendedProducts {
    inStock
    name
    price
    reviews {
      author {
        name
      }
    }
  }
}
```

1. Click **Query** to run the query, then check its response in the **Response** pane.

<img
  className="screenshot"
  alt="Apollo Sandbox IDE showing successful query and response at the end of the router quickstart"
  src="../images/router-quickstart-sandbox.jpg"
  width="300"
/>

That's it! You've successfully run a router in dev mode for an example supergraph.


## Next steps

Now that you know how to run the router in dev mode with a supergraph schema, you can:

- Explore router's [GraphOS features](/graphos/routing/features)
- Deploy the router [in your own infrastructure](/graphos/routing/self-hosted/containerization/overview)
- Learn how to [configure the router](/router/configuration/overview)
