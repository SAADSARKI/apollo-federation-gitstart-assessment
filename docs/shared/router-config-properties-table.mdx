# Router Configuration Properties

### `apq`

Automatic Persisted Queries (APQ) configuration

- **Type:** `object`

```yaml title="apq"
apq:
  enabled: true
  router:
    cache:
      in_memory:
        limit: 1
      redis:
        namespace: example_namespace
        password: example_password
        pool_size: 1
        required_to_start: false
        reset_ttl: true
        timeout: null
        tls:
          certificate_authorities: null
          client_authentication:
            certificate_chain: example_certificate_chain
            key: example_key
        ttl: null
        urls:
        - http://example.com/urls_item
        username: example_username
  subgraph:
    all:
      enabled: false
    subgraphs: {}
```


---

### `apq.enabled`

Activates Automatic Persisted Queries (enabled by default)

- **Type:** `boolean`
- **Default:** `True`

```yaml title="apq.enabled"
enabled: true
```


---

### `apq.router`

Router level (APQ) configuration

- **Type:** `object`

```yaml title="apq.router"
router:
  cache:
    in_memory:
      limit: 1
    redis:
      namespace: example_namespace
      password: example_password
      pool_size: 1
      required_to_start: false
      reset_ttl: true
      timeout: null
      tls:
        certificate_authorities: null
        client_authentication:
          certificate_chain: example_certificate_chain
          key: example_key
      ttl: null
      urls:
      - http://example.com/urls_item
      username: example_username
```


---

### `apq.router.cache`

Cache configuration

- **Type:** `object`

```yaml title="apq.router.cache"
cache:
  in_memory:
    limit: 1
  redis:
    namespace: example_namespace
    password: example_password
    pool_size: 1
    required_to_start: false
    reset_ttl: true
    timeout: null
    tls:
      certificate_authorities: null
      client_authentication:
        certificate_chain: example_certificate_chain
        key: example_key
    ttl: null
    urls:
    - http://example.com/urls_item
    username: example_username
```


---

### `apq.router.cache.in_memory`

In memory cache configuration

- **Type:** `object`

```yaml title="apq.router.cache.in_memory"
in_memory:
  limit: 1
```


---

### `apq.router.cache.in_memory.limit`

Number of entries in the Least Recently Used cache

- **Type:** `integer`
- **Minimum:** `1.0`

```yaml title="apq.router.cache.in_memory.limit"
limit: 1
```


---

### `apq.router.cache.redis`

Redis cache configuration

- **Type:** `object`

```yaml title="apq.router.cache.redis"
redis:
  namespace: example_namespace
  password: example_password
  pool_size: 1
  required_to_start: false
  reset_ttl: true
  timeout: null
  tls:
    certificate_authorities: null
    client_authentication:
      certificate_chain: example_certificate_chain
      key: example_key
  ttl: null
  urls:
  - http://example.com/urls_item
  username: example_username
```


---

### `apq.router.cache.redis.namespace`

namespace used to prefix Redis keys

- **Type:** `string`

```yaml title="apq.router.cache.redis.namespace"
namespace: example_namespace
```


---

### `apq.router.cache.redis.password`

Redis password if not provided in the URLs. This field takes precedence over the password in the URL

- **Type:** `string`

```yaml title="apq.router.cache.redis.password"
password: example_password
```


---

### `apq.router.cache.redis.pool_size`

The size of the Redis connection pool

- **Type:** `integer`
- **Default:** `1`
- **Minimum:** `0.0`

```yaml title="apq.router.cache.redis.pool_size"
pool_size: 1
```


---

### `apq.router.cache.redis.required_to_start`

Prevents the router from starting if it cannot connect to Redis

- **Type:** `boolean`
- **Default:** `False`

```yaml title="apq.router.cache.redis.required_to_start"
required_to_start: false
```


---

### `apq.router.cache.redis.reset_ttl`

When a TTL is set on a key, reset it when reading the data from that key

- **Type:** `boolean`
- **Default:** `True`

```yaml title="apq.router.cache.redis.reset_ttl"
reset_ttl: true
```


---

### `apq.router.cache.redis.timeout`

Redis request timeout (default: 2ms)

- **Type:** `string`
- **Default:** `None`

```yaml title="apq.router.cache.redis.timeout"
timeout: null
```


---

### `apq.router.cache.redis.tls`

Configuration options pertaining to the subgraph server component.

- **Type:** `object`

```yaml title="apq.router.cache.redis.tls"
tls:
  certificate_authorities: null
  client_authentication:
    certificate_chain: example_certificate_chain
    key: example_key
```


---

### `apq.router.cache.redis.ttl`

TTL for entries

- **Type:** `string`
- **Default:** `None`

```yaml title="apq.router.cache.redis.ttl"
ttl: null
```


---

### `apq.router.cache.redis.urls`

List of URLs to the Redis cluster

- **Type:** `array`

```yaml title="apq.router.cache.redis.urls"
urls:
- http://example.com/urls_item
```


---

### `apq.router.cache.redis.username`

Redis username if not provided in the URLs. This field takes precedence over the username in the URL

- **Type:** `string`

```yaml title="apq.router.cache.redis.username"
username: example_username
```


---

### `apq.subgraph`

Configuration options pertaining to the subgraph server component.

- **Type:** `object`

```yaml title="apq.subgraph"
subgraph:
  all:
    enabled: false
  subgraphs: {}
```


---

### `apq.subgraph.all`

Subgraph level Automatic Persisted Queries (APQ) configuration

- **Type:** `object`

```yaml title="apq.subgraph.all"
all:
  enabled: false
```


---

### `apq.subgraph.all.enabled`

Enable

- **Type:** `boolean`
- **Default:** `False`

```yaml title="apq.subgraph.all.enabled"
enabled: false
```


---

### `apq.subgraph.subgraphs`

per subgraph options

- **Type:** `object`
- **Default:** `{}`

```yaml title="apq.subgraph.subgraphs"
subgraphs: {}
```


---

### `authentication`

Authentication

- **Type:** `object`

```yaml title="authentication"
authentication:
  connector:
    sources: {}
  router:
    jwt:
      header_name: authorization
      header_value_prefix: Bearer
      ignore_other_prefixes: false
      jwks:
      - algorithms: null
        headers:
        - name: example_name
          value: example_value
        issuer: example_issuer
        poll_interval:
          nanos: 0
          secs: 60
        url: http://service.example.com/url
      on_error: Continue
      sources:
      - name: authorization
        type: header
        value_prefix: Bearer
  subgraph:
    all:
      aws_sig_v4:
        hardcoded:
          access_key_id: example_access_key_id
          assume_role:
            external_id: example_external_id
            role_arn: example_role_arn
            session_name: example_session_name
          region: example_region
          secret_access_key: example_secret_access_key
          service_name: example_service_name
    subgraphs: {}
```


---

### `authentication.connector`

Configure connector authentication

- **Type:** `object`

```yaml title="authentication.connector"
connector:
  sources: {}
```


---

### `authentication.connector.sources`

Create a configuration that will apply only to a specific source.

- **Type:** `object`
- **Default:** `{}`

```yaml title="authentication.connector.sources"
sources: {}
```


---

### `authentication.router`

- **Type:** `object`

```yaml title="authentication.router"
router:
  jwt:
    header_name: authorization
    header_value_prefix: Bearer
    ignore_other_prefixes: false
    jwks:
    - algorithms: null
      headers:
      - name: example_name
        value: example_value
      issuer: example_issuer
      poll_interval:
        nanos: 0
        secs: 60
      url: http://service.example.com/url
    on_error: Continue
    sources:
    - name: authorization
      type: header
      value_prefix: Bearer
```


---

### `authentication.router.jwt`

- **Type:** `object`

```yaml title="authentication.router.jwt"
jwt:
  header_name: authorization
  header_value_prefix: Bearer
  ignore_other_prefixes: false
  jwks:
  - algorithms: null
    headers:
    - name: example_name
      value: example_value
    issuer: example_issuer
    poll_interval:
      nanos: 0
      secs: 60
    url: http://service.example.com/url
  on_error: Continue
  sources:
  - name: authorization
    type: header
    value_prefix: Bearer
```


---

### `authentication.router.jwt.header_name`

HTTP header expected to contain JWT

- **Type:** `string`
- **Default:** `'authorization'`

```yaml title="authentication.router.jwt.header_name"
header_name: authorization
```


---

### `authentication.router.jwt.header_value_prefix`

Header value prefix

- **Type:** `string`
- **Default:** `'Bearer'`

```yaml title="authentication.router.jwt.header_value_prefix"
header_value_prefix: Bearer
```


---

### `authentication.router.jwt.ignore_other_prefixes`

Whether to ignore any mismatched prefixes

- **Type:** `boolean`
- **Default:** `False`

```yaml title="authentication.router.jwt.ignore_other_prefixes"
ignore_other_prefixes: false
```


---

### `authentication.router.jwt.jwks`

List of JWKS used to verify tokens

- **Type:** `array`

```yaml title="authentication.router.jwt.jwks"
jwks:
- algorithms: null
  headers:
  - name: example_name
    value: example_value
  issuer: example_issuer
  poll_interval:
    nanos: 0
    secs: 60
  url: http://service.example.com/url
```


---

### `authentication.router.jwt.on_error`

- **Type:** `string`
- **Enum:** `Continue`, `Error`

```yaml title="authentication.router.jwt.on_error"
on_error: Continue
```


---

### `authentication.router.jwt.sources`

Alternative sources to extract the JWT

- **Type:** `array`

```yaml title="authentication.router.jwt.sources"
sources:
- name: authorization
  type: header
  value_prefix: Bearer
```


---

### `authentication.subgraph`

Configure subgraph authentication

- **Type:** `object`

```yaml title="authentication.subgraph"
subgraph:
  all:
    aws_sig_v4:
      hardcoded:
        access_key_id: example_access_key_id
        assume_role:
          external_id: example_external_id
          role_arn: example_role_arn
          session_name: example_session_name
        region: example_region
        secret_access_key: example_secret_access_key
        service_name: example_service_name
  subgraphs: {}
```


---

### `authentication.subgraph.all`

- **Type:** `any`

```yaml title="authentication.subgraph.all"
all:
  aws_sig_v4:
    hardcoded:
      access_key_id: example_access_key_id
      assume_role:
        external_id: example_external_id
        role_arn: example_role_arn
        session_name: example_session_name
      region: example_region
      secret_access_key: example_secret_access_key
      service_name: example_service_name
```


---

### `authentication.subgraph.subgraphs`

Create a configuration that will apply only to a specific subgraph.

- **Type:** `object`
- **Default:** `{}`

```yaml title="authentication.subgraph.subgraphs"
subgraphs: {}
```


---

### `authorization`

Authorization plugin

- **Type:** `object`

```yaml title="authorization"
authorization:
  directives:
    dry_run: false
    enabled: true
    errors:
      log: true
      response: errors
    reject_unauthorized: false
  require_authentication: false
```


---

### `authorization.directives`

- **Type:** `object`

```yaml title="authorization.directives"
directives:
  dry_run: false
  enabled: true
  errors:
    log: true
    response: errors
  reject_unauthorized: false
```


---

### `authorization.directives.dry_run`

generates the authorization error messages without modying the query

- **Type:** `boolean`
- **Default:** `False`

```yaml title="authorization.directives.dry_run"
dry_run: false
```


---

### `authorization.directives.enabled`

enables the `@authenticated` and `@requiresScopes` directives

- **Type:** `boolean`
- **Default:** `True`

```yaml title="authorization.directives.enabled"
enabled: true
```


---

### `authorization.directives.errors`

- **Type:** `object`

```yaml title="authorization.directives.errors"
errors:
  log: true
  response: errors
```


---

### `authorization.directives.errors.log`

log authorization errors

- **Type:** `boolean`
- **Default:** `True`

```yaml title="authorization.directives.errors.log"
log: true
```


---

### `authorization.directives.errors.response`

- **Type:** `any`

```yaml title="authorization.directives.errors.response"
response: errors
```


---

### `authorization.directives.reject_unauthorized`

refuse a query entirely if any part would be filtered

- **Type:** `boolean`
- **Default:** `False`

```yaml title="authorization.directives.reject_unauthorized"
reject_unauthorized: false
```


---

### `authorization.require_authentication`

Reject unauthenticated requests

- **Type:** `boolean`
- **Default:** `False`

```yaml title="authorization.require_authentication"
require_authentication: false
```


---

### `batching`

Configuration for Batching

- **Type:** `object`

```yaml title="batching"
batching:
  enabled: false
  maximum_size: null
  mode: batch_http_link
  subgraph:
    all:
      enabled: false
    subgraphs: {}
```


---

### `batching.enabled`

Activates Batching (disabled by default)

- **Type:** `boolean`
- **Default:** `False`

```yaml title="batching.enabled"
enabled: false
```


---

### `batching.maximum_size`

Maximum size for a batch

- **Type:** `integer`
- **Default:** `None`
- **Minimum:** `0.0`

```yaml title="batching.maximum_size"
maximum_size: null
```


---

### `batching.mode`

- **Type:** `any`

```yaml title="batching.mode"
mode: batch_http_link
```


---

### `batching.subgraph`

Configuration options pertaining to the subgraph server component.

- **Type:** `object`

```yaml title="batching.subgraph"
subgraph:
  all:
    enabled: false
  subgraphs: {}
```


---

### `batching.subgraph.all`

Common options for configuring subgraph batching

- **Type:** `object`

```yaml title="batching.subgraph.all"
all:
  enabled: false
```


---

### `batching.subgraph.all.enabled`

Whether this batching config should be enabled

- **Type:** `boolean`

```yaml title="batching.subgraph.all.enabled"
enabled: false
```


---

### `batching.subgraph.subgraphs`

per subgraph options

- **Type:** `object`
- **Default:** `{}`

```yaml title="batching.subgraph.subgraphs"
subgraphs: {}
```


---

### `connectors`

- **Type:** `object`

```yaml title="connectors"
connectors:
  debug_extensions: false
  expose_sources_in_context: false
  max_requests_per_operation_per_source: null
  sources: {}
  subgraphs: {}
```


---

### `connectors.debug_extensions`

Enables connector debugging information on response extensions if the feature is enabled

- **Type:** `boolean`
- **Default:** `False`

```yaml title="connectors.debug_extensions"
debug_extensions: false
```


---

### `connectors.expose_sources_in_context`

When enabled, adds an entry to the context for use in coprocessors ```json { "context": { "entries": { "apollo_connectors::sources_in_query_plan": [ { "subgraph_name": "subgraph", "source_name": "source" } ] } } } ```

- **Type:** `boolean`
- **Default:** `False`

```yaml title="connectors.expose_sources_in_context"
expose_sources_in_context: false
```


---

### `connectors.max_requests_per_operation_per_source`

The maximum number of requests for a connector source

- **Type:** `integer`
- **Default:** `None`
- **Minimum:** `0.0`

```yaml title="connectors.max_requests_per_operation_per_source"
max_requests_per_operation_per_source: null
```


---

### `connectors.sources`

Map of subgraph_name.connector_source_name to source configuration

- **Type:** `object`
- **Default:** `{}`

```yaml title="connectors.sources"
sources: {}
```


---

### `connectors.subgraphs`

A map of subgraph name to connectors config for that subgraph

- **Type:** `object`
- **Default:** `{}`

```yaml title="connectors.subgraphs"
subgraphs: {}
```


---

### `coprocessor`

Configures the externalization plugin

- **Type:** `object`

```yaml title="coprocessor"
coprocessor:
  client:
    dns_resolution_strategy: ipv4_only
    experimental_http2: enable
  execution:
    request:
      body: false
      context: false
      headers: false
      method: false
      query_plan: false
      sdl: false
    response:
      body: false
      context: false
      headers: false
      sdl: false
      status_code: false
  router:
    request:
      body: false
      condition:
        eq:
        - false
        - false
      context: false
      headers: false
      method: false
      path: false
      sdl: false
    response:
      body: false
      condition:
        eq:
        - false
        - false
      context: false
      headers: false
      sdl: false
      status_code: false
  subgraph:
    all:
      request:
        body: false
        condition:
          eq:
          - false
          - false
        context: false
        headers: false
        method: false
        service_name: false
        subgraph_request_id: false
        uri: false
      response:
        body: false
        condition:
          eq:
          - false
          - false
        context: false
        headers: false
        service_name: false
        status_code: false
        subgraph_request_id: false
  supergraph:
    request:
      body: false
      condition:
        eq:
        - false
        - false
      context: false
      headers: false
      method: false
      sdl: false
    response:
      body: false
      condition:
        eq:
        - false
        - false
      context: false
      headers: false
      sdl: false
      status_code: false
  timeout:
    nanos: 0
    secs: 1
  url: http://service.example.com/url
```


---

### `coprocessor.client`

- **Type:** `object`

```yaml title="coprocessor.client"
client:
  dns_resolution_strategy: ipv4_only
  experimental_http2: enable
```


---

### `coprocessor.client.dns_resolution_strategy`

- **Type:** `any`

```yaml title="coprocessor.client.dns_resolution_strategy"
dns_resolution_strategy: ipv4_only
```


---

### `coprocessor.client.experimental_http2`

- **Type:** `any`

```yaml title="coprocessor.client.experimental_http2"
experimental_http2: enable
```


---

### `coprocessor.execution`

- **Type:** `object`

```yaml title="coprocessor.execution"
execution:
  request:
    body: false
    context: false
    headers: false
    method: false
    query_plan: false
    sdl: false
  response:
    body: false
    context: false
    headers: false
    sdl: false
    status_code: false
```


---

### `coprocessor.execution.request`

What information is passed to a router request/response stage

- **Type:** `object`

```yaml title="coprocessor.execution.request"
request:
  body: false
  context: false
  headers: false
  method: false
  query_plan: false
  sdl: false
```


---

### `coprocessor.execution.request.body`

Send the body

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.execution.request.body"
body: false
```


---

### `coprocessor.execution.request.context`

Configures the context

- **Type:** `any`

```yaml title="coprocessor.execution.request.context"
context: false
```


---

### `coprocessor.execution.request.headers`

Send the headers

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.execution.request.headers"
headers: false
```


---

### `coprocessor.execution.request.method`

Send the method

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.execution.request.method"
method: false
```


---

### `coprocessor.execution.request.query_plan`

Send the query plan

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.execution.request.query_plan"
query_plan: false
```


---

### `coprocessor.execution.request.sdl`

Send the SDL

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.execution.request.sdl"
sdl: false
```


---

### `coprocessor.execution.response`

What information is passed to a router request/response stage

- **Type:** `object`

```yaml title="coprocessor.execution.response"
response:
  body: false
  context: false
  headers: false
  sdl: false
  status_code: false
```


---

### `coprocessor.execution.response.body`

Send the body

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.execution.response.body"
body: false
```


---

### `coprocessor.execution.response.context`

Configures the context

- **Type:** `any`

```yaml title="coprocessor.execution.response.context"
context: false
```


---

### `coprocessor.execution.response.headers`

Send the headers

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.execution.response.headers"
headers: false
```


---

### `coprocessor.execution.response.sdl`

Send the SDL

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.execution.response.sdl"
sdl: false
```


---

### `coprocessor.execution.response.status_code`

Send the HTTP status

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.execution.response.status_code"
status_code: false
```


---

### `coprocessor.router`

- **Type:** `object`

```yaml title="coprocessor.router"
router:
  request:
    body: false
    condition:
      eq:
      - false
      - false
    context: false
    headers: false
    method: false
    path: false
    sdl: false
  response:
    body: false
    condition:
      eq:
      - false
      - false
    context: false
    headers: false
    sdl: false
    status_code: false
```


---

### `coprocessor.router.request`

What information is passed to a router request/response stage

- **Type:** `object`

```yaml title="coprocessor.router.request"
request:
  body: false
  condition:
    eq:
    - false
    - false
  context: false
  headers: false
  method: false
  path: false
  sdl: false
```


---

### `coprocessor.router.request.body`

Send the body

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.router.request.body"
body: false
```


---

### `coprocessor.router.request.condition`

- **Type:** `any`

```yaml title="coprocessor.router.request.condition"
condition:
  eq:
  - false
  - false
```


---

### `coprocessor.router.request.context`

Configures the context

- **Type:** `any`

```yaml title="coprocessor.router.request.context"
context: false
```


---

### `coprocessor.router.request.headers`

Send the headers

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.router.request.headers"
headers: false
```


---

### `coprocessor.router.request.method`

Send the method

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.router.request.method"
method: false
```


---

### `coprocessor.router.request.path`

Send the path

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.router.request.path"
path: false
```


---

### `coprocessor.router.request.sdl`

Send the SDL

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.router.request.sdl"
sdl: false
```


---

### `coprocessor.router.response`

What information is passed to a router request/response stage

- **Type:** `object`

```yaml title="coprocessor.router.response"
response:
  body: false
  condition:
    eq:
    - false
    - false
  context: false
  headers: false
  sdl: false
  status_code: false
```


---

### `coprocessor.router.response.body`

Send the body

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.router.response.body"
body: false
```


---

### `coprocessor.router.response.condition`

- **Type:** `any`

```yaml title="coprocessor.router.response.condition"
condition:
  eq:
  - false
  - false
```


---

### `coprocessor.router.response.context`

Configures the context

- **Type:** `any`

```yaml title="coprocessor.router.response.context"
context: false
```


---

### `coprocessor.router.response.headers`

Send the headers

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.router.response.headers"
headers: false
```


---

### `coprocessor.router.response.sdl`

Send the SDL

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.router.response.sdl"
sdl: false
```


---

### `coprocessor.router.response.status_code`

Send the HTTP status

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.router.response.status_code"
status_code: false
```


---

### `coprocessor.subgraph`

What information is passed to a subgraph request/response stage

- **Type:** `object`

```yaml title="coprocessor.subgraph"
subgraph:
  all:
    request:
      body: false
      condition:
        eq:
        - false
        - false
      context: false
      headers: false
      method: false
      service_name: false
      subgraph_request_id: false
      uri: false
    response:
      body: false
      condition:
        eq:
        - false
        - false
      context: false
      headers: false
      service_name: false
      status_code: false
      subgraph_request_id: false
```


---

### `coprocessor.subgraph.all`

What information is passed to a subgraph request/response stage

- **Type:** `object`

```yaml title="coprocessor.subgraph.all"
all:
  request:
    body: false
    condition:
      eq:
      - false
      - false
    context: false
    headers: false
    method: false
    service_name: false
    subgraph_request_id: false
    uri: false
  response:
    body: false
    condition:
      eq:
      - false
      - false
    context: false
    headers: false
    service_name: false
    status_code: false
    subgraph_request_id: false
```


---

### `coprocessor.subgraph.all.request`

What information is passed to a subgraph request/response stage

- **Type:** `object`

```yaml title="coprocessor.subgraph.all.request"
request:
  body: false
  condition:
    eq:
    - false
    - false
  context: false
  headers: false
  method: false
  service_name: false
  subgraph_request_id: false
  uri: false
```


---

### `coprocessor.subgraph.all.request.body`

Send the body

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.subgraph.all.request.body"
body: false
```


---

### `coprocessor.subgraph.all.request.condition`

- **Type:** `any`

```yaml title="coprocessor.subgraph.all.request.condition"
condition:
  eq:
  - false
  - false
```


---

### `coprocessor.subgraph.all.request.context`

Configures the context

- **Type:** `any`

```yaml title="coprocessor.subgraph.all.request.context"
context: false
```


---

### `coprocessor.subgraph.all.request.headers`

Send the headers

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.subgraph.all.request.headers"
headers: false
```


---

### `coprocessor.subgraph.all.request.method`

Send the method URI

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.subgraph.all.request.method"
method: false
```


---

### `coprocessor.subgraph.all.request.service_name`

Send the service name

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.subgraph.all.request.service_name"
service_name: false
```


---

### `coprocessor.subgraph.all.request.subgraph_request_id`

Send the subgraph request id

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.subgraph.all.request.subgraph_request_id"
subgraph_request_id: false
```


---

### `coprocessor.subgraph.all.request.uri`

Send the subgraph URI

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.subgraph.all.request.uri"
uri: false
```


---

### `coprocessor.subgraph.all.response`

What information is passed to a subgraph request/response stage

- **Type:** `object`

```yaml title="coprocessor.subgraph.all.response"
response:
  body: false
  condition:
    eq:
    - false
    - false
  context: false
  headers: false
  service_name: false
  status_code: false
  subgraph_request_id: false
```


---

### `coprocessor.subgraph.all.response.body`

Send the body

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.subgraph.all.response.body"
body: false
```


---

### `coprocessor.subgraph.all.response.condition`

- **Type:** `any`

```yaml title="coprocessor.subgraph.all.response.condition"
condition:
  eq:
  - false
  - false
```


---

### `coprocessor.subgraph.all.response.context`

Configures the context

- **Type:** `any`

```yaml title="coprocessor.subgraph.all.response.context"
context: false
```


---

### `coprocessor.subgraph.all.response.headers`

Send the headers

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.subgraph.all.response.headers"
headers: false
```


---

### `coprocessor.subgraph.all.response.service_name`

Send the service name

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.subgraph.all.response.service_name"
service_name: false
```


---

### `coprocessor.subgraph.all.response.status_code`

Send the http status

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.subgraph.all.response.status_code"
status_code: false
```


---

### `coprocessor.subgraph.all.response.subgraph_request_id`

Send the subgraph request id

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.subgraph.all.response.subgraph_request_id"
subgraph_request_id: false
```


---

### `coprocessor.supergraph`

- **Type:** `object`

```yaml title="coprocessor.supergraph"
supergraph:
  request:
    body: false
    condition:
      eq:
      - false
      - false
    context: false
    headers: false
    method: false
    sdl: false
  response:
    body: false
    condition:
      eq:
      - false
      - false
    context: false
    headers: false
    sdl: false
    status_code: false
```


---

### `coprocessor.supergraph.request`

What information is passed to a router request/response stage

- **Type:** `object`

```yaml title="coprocessor.supergraph.request"
request:
  body: false
  condition:
    eq:
    - false
    - false
  context: false
  headers: false
  method: false
  sdl: false
```


---

### `coprocessor.supergraph.request.body`

Send the body

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.supergraph.request.body"
body: false
```


---

### `coprocessor.supergraph.request.condition`

- **Type:** `any`

```yaml title="coprocessor.supergraph.request.condition"
condition:
  eq:
  - false
  - false
```


---

### `coprocessor.supergraph.request.context`

Configures the context

- **Type:** `any`

```yaml title="coprocessor.supergraph.request.context"
context: false
```


---

### `coprocessor.supergraph.request.headers`

Send the headers

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.supergraph.request.headers"
headers: false
```


---

### `coprocessor.supergraph.request.method`

Send the method

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.supergraph.request.method"
method: false
```


---

### `coprocessor.supergraph.request.sdl`

Send the SDL

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.supergraph.request.sdl"
sdl: false
```


---

### `coprocessor.supergraph.response`

What information is passed to a router request/response stage

- **Type:** `object`

```yaml title="coprocessor.supergraph.response"
response:
  body: false
  condition:
    eq:
    - false
    - false
  context: false
  headers: false
  sdl: false
  status_code: false
```


---

### `coprocessor.supergraph.response.body`

Send the body

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.supergraph.response.body"
body: false
```


---

### `coprocessor.supergraph.response.condition`

- **Type:** `any`

```yaml title="coprocessor.supergraph.response.condition"
condition:
  eq:
  - false
  - false
```


---

### `coprocessor.supergraph.response.context`

Configures the context

- **Type:** `any`

```yaml title="coprocessor.supergraph.response.context"
context: false
```


---

### `coprocessor.supergraph.response.headers`

Send the headers

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.supergraph.response.headers"
headers: false
```


---

### `coprocessor.supergraph.response.sdl`

Send the SDL

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.supergraph.response.sdl"
sdl: false
```


---

### `coprocessor.supergraph.response.status_code`

Send the HTTP status

- **Type:** `boolean`
- **Default:** `False`

```yaml title="coprocessor.supergraph.response.status_code"
status_code: false
```


---

### `coprocessor.timeout`

The timeout for external requests

- **Type:** `string`
- **Default:** `{"secs": 1, "nanos": 0}`

```yaml title="coprocessor.timeout"
timeout:
  nanos: 0
  secs: 1
```


---

### `coprocessor.url`

The url you'd like to offload processing to

- **Type:** `string`

```yaml title="coprocessor.url"
url: http://service.example.com/url
```


---

### `cors`

Cross origin request configuration.

- **Type:** `object`

```yaml title="cors"
cors:
  allow_any_origin: false
  allow_credentials: false
  allow_headers: []
  expose_headers: null
  match_origins: null
  max_age: null
  methods:
  - GET
  - POST
  - OPTIONS
  origins:
  - https://studio.apollographql.com
```


---

### `cors.allow_any_origin`

Set to true to allow any origin.

Defaults to false Having this set to true is the only way to allow Origin: null.

- **Type:** `boolean`
- **Default:** `False`

```yaml title="cors.allow_any_origin"
allow_any_origin: false
```


---

### `cors.allow_credentials`

Set to true to add the `Access-Control-Allow-Credentials` header.

- **Type:** `boolean`
- **Default:** `False`

```yaml title="cors.allow_credentials"
allow_credentials: false
```


---

### `cors.allow_headers`

The headers to allow.

If this value is not set, the router will mirror client's `Access-Control-Request-Headers`.

Note that if you set headers here, you also want to have a look at your `CSRF` plugins configuration, and make sure you either: - accept `x-apollo-operation-name` AND / OR `apollo-require-preflight` - defined `csrf` required headers in your yml configuration, as shown in the `examples/cors-and-csrf/custom-headers.router.yaml` files.

- **Type:** `array`
- **Default:** `[]`

```yaml title="cors.allow_headers"
allow_headers: []
```


---

### `cors.expose_headers`

Which response headers should be made available to scripts running in the browser, in response to a cross-origin request.

- **Type:** `array`
- **Default:** `None`

```yaml title="cors.expose_headers"
expose_headers: null
```


---

### `cors.match_origins`

`Regex`es you want to match the origins against to determine if they're allowed. Defaults to an empty list. Note that `origins` will be evaluated before `match_origins`

- **Type:** `array`
- **Default:** `None`

```yaml title="cors.match_origins"
match_origins: null
```


---

### `cors.max_age`

The `Access-Control-Max-Age` header value in time units

- **Type:** `string`
- **Default:** `None`

```yaml title="cors.max_age"
max_age: null
```


---

### `cors.methods`

Allowed request methods. Defaults to GET, POST, OPTIONS.

- **Type:** `array`
- **Default:** `["GET", "POST", "OPTIONS"]`

```yaml title="cors.methods"
methods:
- GET
- POST
- OPTIONS
```


---

### `cors.origins`

The origin(s) to allow requests from. Defaults to `https://studio.apollographql.com/` for Apollo Studio.

- **Type:** `array`
- **Default:** `["https://studio.apollographql.com"]`

```yaml title="cors.origins"
origins:
- https://studio.apollographql.com
```


---

### `csrf`

CSRF protection configuration.

See https://owasp.org/www-community/attacks/csrf for an explanation on CSRF attacks.

- **Type:** `object`

```yaml title="csrf"
csrf:
  required_headers:
  - x-apollo-operation-name
  - apollo-require-preflight
  unsafe_disabled: false
```


---

### `csrf.required_headers`

Override the headers to check for by setting custom_headers Note that if you set required_headers here, you may also want to have a look at your `CORS` configuration, and make sure you either: - did not set any `allow_headers` list (so it defaults to `mirror_request`) - added your required headers to the allow_headers list, as shown in the `examples/cors-and-csrf/custom-headers.router.yaml` files.

- **Type:** `array`
- **Default:** `["x-apollo-operation-name", "apollo-require-preflight"]`

```yaml title="csrf.required_headers"
required_headers:
- x-apollo-operation-name
- apollo-require-preflight
```


---

### `csrf.unsafe_disabled`

The CSRF plugin is enabled by default.

Setting `unsafe_disabled: true` *disables* CSRF protection.

- **Type:** `boolean`
- **Default:** `False`

```yaml title="csrf.unsafe_disabled"
unsafe_disabled: false
```


---

### `demand_control`

Demand control configuration

- **Type:** `object`

```yaml title="demand_control"
demand_control:
  enabled: false
  mode: measure
  strategy:
    static_estimated:
      list_size: 0
      max: 0.0
```


---

### `demand_control.enabled`

Enable demand control

- **Type:** `boolean`

```yaml title="demand_control.enabled"
enabled: false
```


---

### `demand_control.mode`

- **Type:** `string`
- **Enum:** `measure`, `enforce`

```yaml title="demand_control.mode"
mode: measure
```


---

### `demand_control.strategy`

Algorithm for calculating the cost of an incoming query.

- **Type:** `any`

```yaml title="demand_control.strategy"
strategy:
  static_estimated:
    list_size: 0
    max: 0.0
```


---

### `experimental_chaos`

Configuration for chaos testing, trying to reproduce bugs that require uncommon conditions. You probably don’t want this in production!

- **Type:** `object`

```yaml title="experimental_chaos"
experimental_chaos:
  force_reload: null
```


---

### `experimental_chaos.force_reload`

Force a hot reload of the Router (as if the schema or configuration had changed) at a regular time interval.

- **Type:** `string`
- **Default:** `None`

```yaml title="experimental_chaos.force_reload"
force_reload: null
```


---

### `experimental_type_conditioned_fetching`

Type conditioned fetching configuration.

- **Type:** `boolean`
- **Default:** `False`

```yaml title="experimental_type_conditioned_fetching"
experimental_type_conditioned_fetching: false
```


---

### `fleet_detector`

- **Type:** `object`

```yaml title="fleet_detector"
fleet_detector: {}
```


---

### `forbid_mutations`

Forbid mutations configuration

- **Type:** `boolean`

```yaml title="forbid_mutations"
forbid_mutations: false
```


---

### `headers`

Configuration for header propagation

- **Type:** `object`

```yaml title="headers"
headers:
  all:
    request:
    - insert:
        name: example_name
        value: example_value
  subgraphs: {}
```


---

### `headers.all`

- **Type:** `object`

```yaml title="headers.all"
all:
  request:
  - insert:
      name: example_name
      value: example_value
```


---

### `headers.all.request`

Propagate/Insert/Remove headers from request

- **Type:** `array`

```yaml title="headers.all.request"
request:
- insert:
    name: example_name
    value: example_value
```


---

### `headers.subgraphs`

Rules to specific subgraphs

- **Type:** `object`

```yaml title="headers.subgraphs"
subgraphs: {}
```


---

### `health_check`

Configuration options pertaining to the health component.

- **Type:** `object`

```yaml title="health_check"
health_check:
  enabled: true
  listen: example_listen
  path: /health
  readiness:
    allowed: 100
    interval:
      sampling: 0s
      unready: null
```


---

### `health_check.enabled`

Set to false to disable the health check

- **Type:** `boolean`
- **Default:** `True`

```yaml title="health_check.enabled"
enabled: true
```


---

### `health_check.listen`

Listening address.

- **Type:** `any`

```yaml title="health_check.listen"
listen: example_listen
```


---

### `health_check.path`

Optionally set a custom healthcheck path Defaults to /health

- **Type:** `string`
- **Default:** `'/health'`

```yaml title="health_check.path"
path: /health
```


---

### `health_check.readiness`

Configuration options pertaining to the readiness health sub-component.

- **Type:** `object`

```yaml title="health_check.readiness"
readiness:
  allowed: 100
  interval:
    sampling: 0s
    unready: null
```


---

### `health_check.readiness.allowed`

How many rejections are allowed in an interval (default: 100) If this number is exceeded, the router will start to report unready.

- **Type:** `integer`
- **Default:** `100`
- **Minimum:** `0.0`

```yaml title="health_check.readiness.allowed"
allowed: 100
```


---

### `health_check.readiness.interval`

Configuration options pertaining to the readiness health interval sub-component.

- **Type:** `object`

```yaml title="health_check.readiness.interval"
interval:
  sampling: 0s
  unready: null
```


---

### `health_check.readiness.interval.sampling`

The sampling interval (default: 5s)

- **Type:** `string`
- **Default:** `'0s'`

```yaml title="health_check.readiness.interval.sampling"
sampling: 0s
```


---

### `health_check.readiness.interval.unready`

The unready interval (default: 2 * sampling interval)

- **Type:** `string`
- **Default:** `None`

```yaml title="health_check.readiness.interval.unready"
unready: null
```


---

### `homepage`

Configuration options pertaining to the home page.

- **Type:** `object`

```yaml title="homepage"
homepage:
  enabled: true
  graph_ref: null
```


---

### `homepage.enabled`

Set to false to disable the homepage

- **Type:** `boolean`
- **Default:** `True`

```yaml title="homepage.enabled"
enabled: true
```


---

### `homepage.graph_ref`

Graph reference This will allow you to redirect from the Apollo Router landing page back to Apollo Studio Explorer

- **Type:** `string`
- **Default:** `None`

```yaml title="homepage.graph_ref"
graph_ref: null
```


---

### `include_subgraph_errors`

Configuration for exposing errors that originate from subgraphs

- **Type:** `object`

```yaml title="include_subgraph_errors"
include_subgraph_errors:
  all: false
  subgraphs: {}
```


---

### `include_subgraph_errors.all`

Include errors from all subgraphs

- **Type:** `boolean`
- **Default:** `False`

```yaml title="include_subgraph_errors.all"
all: false
```


---

### `include_subgraph_errors.subgraphs`

Include errors from specific subgraphs

- **Type:** `object`
- **Default:** `{}`

```yaml title="include_subgraph_errors.subgraphs"
subgraphs: {}
```


---

### `license_enforcement`

- **Type:** `object`

```yaml title="license_enforcement"
license_enforcement: {}
```


---

### `limits`

Configuration for operation limits, parser limits, HTTP limits, etc.

- **Type:** `object`

```yaml title="limits"
limits:
  http1_max_request_buf_size: null
  http1_max_request_headers: null
  http_max_request_bytes: 2000000
  introspection_max_depth: true
  max_aliases: null
  max_depth: null
  max_height: null
  max_root_fields: null
  parser_max_recursion: 500
  parser_max_tokens: 15000
  warn_only: false
```


---

### `limits.http1_max_request_buf_size`

Limit the maximum buffer size for the HTTP1 connection.

Default is ~400kib.

- **Type:** `string`
- **Default:** `None`

```yaml title="limits.http1_max_request_buf_size"
http1_max_request_buf_size: null
```


---

### `limits.http1_max_request_headers`

Limit the maximum number of headers of incoming HTTP1 requests. Default is 100.

If router receives more headers than the buffer size, it responds to the client with "431 Request Header Fields Too Large".

- **Type:** `integer`
- **Default:** `None`
- **Minimum:** `0.0`

```yaml title="limits.http1_max_request_headers"
http1_max_request_headers: null
```


---

### `limits.http_max_request_bytes`

Limit the size of incoming HTTP requests read from the network, to protect against running out of memory. Default: 2000000 (2 MB)

- **Type:** `integer`
- **Default:** `2000000`
- **Minimum:** `0.0`

```yaml title="limits.http_max_request_bytes"
http_max_request_bytes: 2000000
```


---

### `limits.introspection_max_depth`

Limit the depth of nested list fields in introspection queries to protect avoid generating huge responses. Returns a GraphQL error with `{ message: "Maximum introspection depth exceeded" }` when nested fields exceed the limit. Default: true

- **Type:** `boolean`
- **Default:** `True`

```yaml title="limits.introspection_max_depth"
introspection_max_depth: true
```


---

### `limits.max_aliases`

If set, requests with operations with more aliases than this maximum are rejected with a HTTP 400 Bad Request response and GraphQL error with `"extensions": {"code": "MAX_ALIASES_LIMIT"}`

- **Type:** `integer`
- **Default:** `None`
- **Minimum:** `0.0`

```yaml title="limits.max_aliases"
max_aliases: null
```


---

### `limits.max_depth`

If set, requests with operations deeper than this maximum are rejected with a HTTP 400 Bad Request response and GraphQL error with `"extensions": {"code": "MAX_DEPTH_LIMIT"}`

Counts depth of an operation, looking at its selection sets,˛ including fields in fragments and inline fragments. The following example has a depth of 3.

```graphql 
query getProduct { 
  book { 
    # 1 ...bookDetails 
  } 
}

fragment bookDetails on Book { 
  details { 
    # 2 ... on ProductDetailsBook 
    { country # 3 } } } 
```

- **Type:** `integer`
- **Default:** `None`
- **Minimum:** `0.0`

```yaml title="limits.max_depth"
max_depth: null
```


---

### `limits.max_height`

If set, requests with operations higher than this maximum are rejected with a HTTP 400 Bad Request response and GraphQL error with `"extensions": {"code": "MAX_DEPTH_LIMIT"}`

Height is based on simple merging of fields using the same name or alias, but only within the same selection set. For example `name` here is only counted once and the query has height 3, not 4:

```graphql 
query { name { first } name { last } } 
```

This may change in a future version of Apollo Router to do [full field merging across fragments](https://spec.graphql.org/October2021/#sec-Field-Selection-Merging) instead.

- **Type:** `integer`
- **Default:** `None`
- **Minimum:** `0.0`

```yaml title="limits.max_height"
max_height: null
```


---

### `limits.max_root_fields`

If set, requests with operations with more root fields than this maximum are rejected with a HTTP 400 Bad Request response and GraphQL error with `"extensions": {"code": "MAX_ROOT_FIELDS_LIMIT"}`

This limit counts only the top level fields in a selection set, including fragments and inline fragments.

- **Type:** `integer`
- **Default:** `None`
- **Minimum:** `0.0`

```yaml title="limits.max_root_fields"
max_root_fields: null
```


---

### `limits.parser_max_recursion`

Limit recursion in the GraphQL parser to protect against stack overflow. default: 500

- **Type:** `integer`
- **Default:** `500`
- **Minimum:** `0.0`

```yaml title="limits.parser_max_recursion"
parser_max_recursion: 500
```


---

### `limits.parser_max_tokens`

Limit the number of tokens the GraphQL parser processes before aborting.

- **Type:** `integer`
- **Default:** `15000`
- **Minimum:** `0.0`

```yaml title="limits.parser_max_tokens"
parser_max_tokens: 15000
```


---

### `limits.warn_only`

If set to true (which is the default is dev mode), requests that exceed a `max_*` limit are *not* rejected. Instead they are executed normally, and a warning is logged.

- **Type:** `boolean`
- **Default:** `False`

```yaml title="limits.warn_only"
warn_only: false
```


---

### `override_subgraph_url`

Subgraph URL mappings

- **Type:** `any`

```yaml title="override_subgraph_url"
override_subgraph_url: {}
```


---

### `persisted_queries`

Persisted Queries (PQ) configuration

- **Type:** `object`

```yaml title="persisted_queries"
persisted_queries:
  enabled: false
  experimental_prewarm_query_plan_cache:
    on_reload: true
    on_startup: false
  hot_reload: false
  local_manifests: null
  log_unknown: false
  safelist:
    enabled: false
    require_id: false
```


---

### `persisted_queries.enabled`

Activates Persisted Queries (disabled by default)

- **Type:** `boolean`
- **Default:** `False`

```yaml title="persisted_queries.enabled"
enabled: false
```


---

### `persisted_queries.experimental_prewarm_query_plan_cache`

Persisted Queries (PQ) query plan cache prewarm configuration

- **Type:** `object`

```yaml title="persisted_queries.experimental_prewarm_query_plan_cache"
experimental_prewarm_query_plan_cache:
  on_reload: true
  on_startup: false
```


---

### `persisted_queries.experimental_prewarm_query_plan_cache.on_reload`

Enabling this field uses the persisted query list to pre-warm the query planner cache on schema and config changes (enabled by default)

- **Type:** `boolean`
- **Default:** `True`

```yaml title="persisted_queries.experimental_prewarm_query_plan_cache.on_reload"
on_reload: true
```


---

### `persisted_queries.experimental_prewarm_query_plan_cache.on_startup`

Enabling this field uses the persisted query list to pre-warm the query planner cache on startup (disabled by default)

- **Type:** `boolean`
- **Default:** `False`

```yaml title="persisted_queries.experimental_prewarm_query_plan_cache.on_startup"
on_startup: false
```


---

### `persisted_queries.hot_reload`

Enables hot reloading of the local persisted query manifests

- **Type:** `boolean`
- **Default:** `False`

```yaml title="persisted_queries.hot_reload"
hot_reload: false
```


---

### `persisted_queries.local_manifests`

Enables using a local copy of the persisted query manifest to safelist operations

- **Type:** `array`
- **Default:** `None`

```yaml title="persisted_queries.local_manifests"
local_manifests: null
```


---

### `persisted_queries.log_unknown`

Enabling this field configures the router to log any freeform GraphQL request that is not in the persisted query list

- **Type:** `boolean`
- **Default:** `False`

```yaml title="persisted_queries.log_unknown"
log_unknown: false
```


---

### `persisted_queries.safelist`

Persisted Queries (PQ) Safelisting configuration

- **Type:** `object`

```yaml title="persisted_queries.safelist"
safelist:
  enabled: false
  require_id: false
```


---

### `persisted_queries.safelist.enabled`

Enables using the persisted query list as a safelist (disabled by default)

- **Type:** `boolean`
- **Default:** `False`

```yaml title="persisted_queries.safelist.enabled"
enabled: false
```


---

### `persisted_queries.safelist.require_id`

Enabling this field configures the router to reject any request that does not include the persisted query ID

- **Type:** `boolean`
- **Default:** `False`

```yaml title="persisted_queries.safelist.require_id"
require_id: false
```


---

### `plugins`

- **Type:** `any`

```yaml title="plugins"
plugins: unknown_type_plugins
```


---

### `preview_entity_cache`

Configuration for entity caching

- **Type:** `object`

```yaml title="preview_entity_cache"
preview_entity_cache:
  enabled: false
  expose_keys_in_context: false
  invalidation:
    concurrent_requests: 10
    listen: example_listen
    path: example_path
    scan_count: 1000
  metrics:
    enabled: false
    separate_per_type: false
    ttl: 30s
  subgraph:
    all:
      enabled: true
      invalidation:
        enabled: false
        shared_key: ''
      private_id: null
      redis:
        namespace: example_namespace
        password: example_password
        pool_size: 1
        required_to_start: false
        reset_ttl: true
        timeout: null
        tls:
          certificate_authorities: null
          client_authentication:
            certificate_chain: example_certificate_chain
            key: example_key
        ttl: null
        urls:
        - http://example.com/urls_item
        username: example_username
      ttl: 30s
    subgraphs: {}
```


---

### `preview_entity_cache.enabled`

Enable or disable the entity caching feature

- **Type:** `boolean`
- **Default:** `False`

```yaml title="preview_entity_cache.enabled"
enabled: false
```


---

### `preview_entity_cache.expose_keys_in_context`

Expose cache keys in context

- **Type:** `boolean`
- **Default:** `False`

```yaml title="preview_entity_cache.expose_keys_in_context"
expose_keys_in_context: false
```


---

### `preview_entity_cache.invalidation`

- **Type:** `object`

```yaml title="preview_entity_cache.invalidation"
invalidation:
  concurrent_requests: 10
  listen: example_listen
  path: example_path
  scan_count: 1000
```


---

### `preview_entity_cache.invalidation.concurrent_requests`

Number of concurrent invalidation requests

- **Type:** `integer`
- **Default:** `10`
- **Minimum:** `0.0`

```yaml title="preview_entity_cache.invalidation.concurrent_requests"
concurrent_requests: 10
```


---

### `preview_entity_cache.invalidation.listen`

Listening address.

- **Type:** `any`

```yaml title="preview_entity_cache.invalidation.listen"
listen: example_listen
```


---

### `preview_entity_cache.invalidation.path`

Specify on which path you want to listen for invalidation endpoint.

- **Type:** `string`

```yaml title="preview_entity_cache.invalidation.path"
path: example_path
```


---

### `preview_entity_cache.invalidation.scan_count`

Number of keys to return at once from a redis SCAN command

- **Type:** `integer`
- **Default:** `1000`
- **Minimum:** `0.0`

```yaml title="preview_entity_cache.invalidation.scan_count"
scan_count: 1000
```


---

### `preview_entity_cache.metrics`

Per subgraph configuration for entity caching

- **Type:** `object`

```yaml title="preview_entity_cache.metrics"
metrics:
  enabled: false
  separate_per_type: false
  ttl: 30s
```


---

### `preview_entity_cache.metrics.enabled`

enables metrics evaluating the benefits of entity caching

- **Type:** `boolean`
- **Default:** `False`

```yaml title="preview_entity_cache.metrics.enabled"
enabled: false
```


---

### `preview_entity_cache.metrics.separate_per_type`

Adds the entity type name to attributes. This can greatly increase the cardinality

- **Type:** `boolean`
- **Default:** `False`

```yaml title="preview_entity_cache.metrics.separate_per_type"
separate_per_type: false
```


---

### `preview_entity_cache.metrics.ttl`

Per subgraph configuration for entity caching

- **Type:** `string`

```yaml title="preview_entity_cache.metrics.ttl"
ttl: 30s
```


---

### `preview_entity_cache.subgraph`

Configuration options pertaining to the subgraph server component.

- **Type:** `object`

```yaml title="preview_entity_cache.subgraph"
subgraph:
  all:
    enabled: true
    invalidation:
      enabled: false
      shared_key: ''
    private_id: null
    redis:
      namespace: example_namespace
      password: example_password
      pool_size: 1
      required_to_start: false
      reset_ttl: true
      timeout: null
      tls:
        certificate_authorities: null
        client_authentication:
          certificate_chain: example_certificate_chain
          key: example_key
      ttl: null
      urls:
      - http://example.com/urls_item
      username: example_username
    ttl: 30s
  subgraphs: {}
```


---

### `preview_entity_cache.subgraph.all`

Per subgraph configuration for entity caching

- **Type:** `object`

```yaml title="preview_entity_cache.subgraph.all"
all:
  enabled: true
  invalidation:
    enabled: false
    shared_key: ''
  private_id: null
  redis:
    namespace: example_namespace
    password: example_password
    pool_size: 1
    required_to_start: false
    reset_ttl: true
    timeout: null
    tls:
      certificate_authorities: null
      client_authentication:
        certificate_chain: example_certificate_chain
        key: example_key
    ttl: null
    urls:
    - http://example.com/urls_item
    username: example_username
  ttl: 30s
```


---

### `preview_entity_cache.subgraph.all.enabled`

activates caching for this subgraph, overrides the global configuration

- **Type:** `boolean`
- **Default:** `True`

```yaml title="preview_entity_cache.subgraph.all.enabled"
enabled: true
```


---

### `preview_entity_cache.subgraph.all.invalidation`

- **Type:** `object`

```yaml title="preview_entity_cache.subgraph.all.invalidation"
invalidation:
  enabled: false
  shared_key: ''
```


---

### `preview_entity_cache.subgraph.all.invalidation.enabled`

Enable the invalidation

- **Type:** `boolean`
- **Default:** `False`

```yaml title="preview_entity_cache.subgraph.all.invalidation.enabled"
enabled: false
```


---

### `preview_entity_cache.subgraph.all.invalidation.shared_key`

Shared key needed to request the invalidation endpoint

- **Type:** `string`
- **Default:** `''`

```yaml title="preview_entity_cache.subgraph.all.invalidation.shared_key"
shared_key: ''
```


---

### `preview_entity_cache.subgraph.all.private_id`

Context key used to separate cache sections per user

- **Type:** `string`
- **Default:** `None`

```yaml title="preview_entity_cache.subgraph.all.private_id"
private_id: null
```


---

### `preview_entity_cache.subgraph.all.redis`

Redis cache configuration

- **Type:** `object`

```yaml title="preview_entity_cache.subgraph.all.redis"
redis:
  namespace: example_namespace
  password: example_password
  pool_size: 1
  required_to_start: false
  reset_ttl: true
  timeout: null
  tls:
    certificate_authorities: null
    client_authentication:
      certificate_chain: example_certificate_chain
      key: example_key
  ttl: null
  urls:
  - http://example.com/urls_item
  username: example_username
```


---

### `preview_entity_cache.subgraph.all.redis.namespace`

namespace used to prefix Redis keys

- **Type:** `string`

```yaml title="preview_entity_cache.subgraph.all.redis.namespace"
namespace: example_namespace
```


---

### `preview_entity_cache.subgraph.all.redis.password`

Redis password if not provided in the URLs. This field takes precedence over the password in the URL

- **Type:** `string`

```yaml title="preview_entity_cache.subgraph.all.redis.password"
password: example_password
```


---

### `preview_entity_cache.subgraph.all.redis.pool_size`

The size of the Redis connection pool

- **Type:** `integer`
- **Default:** `1`
- **Minimum:** `0.0`

```yaml title="preview_entity_cache.subgraph.all.redis.pool_size"
pool_size: 1
```


---

### `preview_entity_cache.subgraph.all.redis.required_to_start`

Prevents the router from starting if it cannot connect to Redis

- **Type:** `boolean`
- **Default:** `False`

```yaml title="preview_entity_cache.subgraph.all.redis.required_to_start"
required_to_start: false
```


---

### `preview_entity_cache.subgraph.all.redis.reset_ttl`

When a TTL is set on a key, reset it when reading the data from that key

- **Type:** `boolean`
- **Default:** `True`

```yaml title="preview_entity_cache.subgraph.all.redis.reset_ttl"
reset_ttl: true
```


---

### `preview_entity_cache.subgraph.all.redis.timeout`

Redis request timeout (default: 2ms)

- **Type:** `string`
- **Default:** `None`

```yaml title="preview_entity_cache.subgraph.all.redis.timeout"
timeout: null
```


---

### `preview_entity_cache.subgraph.all.redis.tls`

Configuration options pertaining to the subgraph server component.

- **Type:** `object`

```yaml title="preview_entity_cache.subgraph.all.redis.tls"
tls:
  certificate_authorities: null
  client_authentication:
    certificate_chain: example_certificate_chain
    key: example_key
```


---

### `preview_entity_cache.subgraph.all.redis.ttl`

TTL for entries

- **Type:** `string`
- **Default:** `None`

```yaml title="preview_entity_cache.subgraph.all.redis.ttl"
ttl: null
```


---

### `preview_entity_cache.subgraph.all.redis.urls`

List of URLs to the Redis cluster

- **Type:** `array`

```yaml title="preview_entity_cache.subgraph.all.redis.urls"
urls:
- http://example.com/urls_item
```


---

### `preview_entity_cache.subgraph.all.redis.username`

Redis username if not provided in the URLs. This field takes precedence over the username in the URL

- **Type:** `string`

```yaml title="preview_entity_cache.subgraph.all.redis.username"
username: example_username
```


---

### `preview_entity_cache.subgraph.all.ttl`

Per subgraph configuration for entity caching

- **Type:** `string`

```yaml title="preview_entity_cache.subgraph.all.ttl"
ttl: 30s
```


---

### `preview_entity_cache.subgraph.subgraphs`

per subgraph options

- **Type:** `object`
- **Default:** `{}`

```yaml title="preview_entity_cache.subgraph.subgraphs"
subgraphs: {}
```


---

### `preview_file_uploads`

Configuration for File Uploads plugin

- **Type:** `object`

```yaml title="preview_file_uploads"
preview_file_uploads:
  enabled: false
  protocols:
    multipart:
      enabled: true
      limits:
        max_file_size: example_max_file_size
        max_files: 0
      mode: stream
```


---

### `preview_file_uploads.enabled`

Whether the file upload plugin should be enabled (default: false)

- **Type:** `boolean`

```yaml title="preview_file_uploads.enabled"
enabled: false
```


---

### `preview_file_uploads.protocols`

Configuration for the various protocols supported by the file upload plugin

- **Type:** `object`

```yaml title="preview_file_uploads.protocols"
protocols:
  multipart:
    enabled: true
    limits:
      max_file_size: example_max_file_size
      max_files: 0
    mode: stream
```


---

### `preview_file_uploads.protocols.multipart`

Configuration for a multipart request for file uploads.

This protocol conforms to [jaydenseric's multipart spec](https://github.com/jaydenseric/graphql-multipart-request-spec)

- **Type:** `object`

```yaml title="preview_file_uploads.protocols.multipart"
multipart:
  enabled: true
  limits:
    max_file_size: example_max_file_size
    max_files: 0
  mode: stream
```


---

### `preview_file_uploads.protocols.multipart.enabled`

Whether to enable the multipart protocol for file uploads (default: true)

- **Type:** `boolean`
- **Default:** `True`

```yaml title="preview_file_uploads.protocols.multipart.enabled"
enabled: true
```


---

### `preview_file_uploads.protocols.multipart.limits`

Request limits for a multipart request

- **Type:** `object`

```yaml title="preview_file_uploads.protocols.multipart.limits"
limits:
  max_file_size: example_max_file_size
  max_files: 0
```


---

### `preview_file_uploads.protocols.multipart.limits.max_file_size`

The maximum size of each file, in bytes (default: 5MB)

- **Type:** `string`

```yaml title="preview_file_uploads.protocols.multipart.limits.max_file_size"
max_file_size: example_max_file_size
```


---

### `preview_file_uploads.protocols.multipart.limits.max_files`

The maximum amount of files allowed for a single query (default: 4)

- **Type:** `integer`
- **Minimum:** `0.0`

```yaml title="preview_file_uploads.protocols.multipart.limits.max_files"
max_files: 0
```


---

### `preview_file_uploads.protocols.multipart.mode`

Supported mode for a multipart request

- **Type:** `any`

```yaml title="preview_file_uploads.protocols.multipart.mode"
mode: stream
```


---

### `progressive_override`

Configuration for the progressive override plugin

- **Type:** `object`

```yaml title="progressive_override"
progressive_override: {}
```


---

### `rhai`

Configuration for the Rhai Plugin

- **Type:** `object`

```yaml title="rhai"
rhai:
  main: example_main
  scripts: example_scripts
```


---

### `rhai.main`

The main entry point for Rhai script evaluation

- **Type:** `string`

```yaml title="rhai.main"
main: example_main
```


---

### `rhai.scripts`

The directory where Rhai scripts can be found

- **Type:** `string`

```yaml title="rhai.scripts"
scripts: example_scripts
```


---

### `sandbox`

Configuration options pertaining to the sandbox page.

- **Type:** `object`

```yaml title="sandbox"
sandbox:
  enabled: false
```


---

### `sandbox.enabled`

Set to true to enable sandbox

- **Type:** `boolean`
- **Default:** `False`

```yaml title="sandbox.enabled"
enabled: false
```


---

### `subscription`

Subscriptions configuration

- **Type:** `object`

```yaml title="subscription"
subscription:
  enable_deduplication: true
  enabled: true
  max_opened_subscriptions: null
  mode:
    callback:
      heartbeat_interval: disabled
      listen: example_listen
      path: example_path
      public_url: http://service.example.com/public_url
      subgraphs: []
    passthrough:
      all:
        heartbeat_interval: disabled
        path: null
        protocol: graphql_ws
      subgraphs: {}
  queue_capacity: null
```


---

### `subscription.enable_deduplication`

Enable the deduplication of subscription (for example if we detect the exact same request to subgraph we won't open a new websocket to the subgraph in passthrough mode) (default: true)

- **Type:** `boolean`
- **Default:** `True`

```yaml title="subscription.enable_deduplication"
enable_deduplication: true
```


---

### `subscription.enabled`

Enable subscription

- **Type:** `boolean`
- **Default:** `True`

```yaml title="subscription.enabled"
enabled: true
```


---

### `subscription.max_opened_subscriptions`

This is a limit to only have maximum X opened subscriptions at the same time. By default if it's not set there is no limit.

- **Type:** `integer`
- **Default:** `None`
- **Minimum:** `0.0`

```yaml title="subscription.max_opened_subscriptions"
max_opened_subscriptions: null
```


---

### `subscription.mode`

- **Type:** `object`

```yaml title="subscription.mode"
mode:
  callback:
    heartbeat_interval: disabled
    listen: example_listen
    path: example_path
    public_url: http://service.example.com/public_url
    subgraphs: []
  passthrough:
    all:
      heartbeat_interval: disabled
      path: null
      protocol: graphql_ws
    subgraphs: {}
```


---

### `subscription.mode.callback`

Using a callback url

- **Type:** `object`

```yaml title="subscription.mode.callback"
callback:
  heartbeat_interval: disabled
  listen: example_listen
  path: example_path
  public_url: http://service.example.com/public_url
  subgraphs: []
```


---

### `subscription.mode.callback.heartbeat_interval`

- **Type:** `any`

```yaml title="subscription.mode.callback.heartbeat_interval"
heartbeat_interval: disabled
```


---

### `subscription.mode.callback.listen`

Listening address.

- **Type:** `any`

```yaml title="subscription.mode.callback.listen"
listen: example_listen
```


---

### `subscription.mode.callback.path`

Specify on which path you want to listen for callbacks (default: /callback)

- **Type:** `string`

```yaml title="subscription.mode.callback.path"
path: example_path
```


---

### `subscription.mode.callback.public_url`

URL used to access this router instance, including the path configured on the Router

- **Type:** `string`

```yaml title="subscription.mode.callback.public_url"
public_url: http://service.example.com/public_url
```


---

### `subscription.mode.callback.subgraphs`

Specify on which subgraph we enable the callback mode for subscription If empty it applies to all subgraphs (passthrough mode takes precedence)

- **Type:** `array`
- **Default:** `[]`

```yaml title="subscription.mode.callback.subgraphs"
subgraphs: []
```


---

### `subscription.mode.passthrough`

- **Type:** `object`

```yaml title="subscription.mode.passthrough"
passthrough:
  all:
    heartbeat_interval: disabled
    path: null
    protocol: graphql_ws
  subgraphs: {}
```


---

### `subscription.mode.passthrough.all`

WebSocket configuration for a specific subgraph

- **Type:** `object`

```yaml title="subscription.mode.passthrough.all"
all:
  heartbeat_interval: disabled
  path: null
  protocol: graphql_ws
```


---

### `subscription.mode.passthrough.all.heartbeat_interval`

- **Type:** `any`

```yaml title="subscription.mode.passthrough.all.heartbeat_interval"
heartbeat_interval: disabled
```


---

### `subscription.mode.passthrough.all.path`

Path on which WebSockets are listening

- **Type:** `string`
- **Default:** `None`

```yaml title="subscription.mode.passthrough.all.path"
path: null
```


---

### `subscription.mode.passthrough.all.protocol`

- **Type:** `string`
- **Enum:** `graphql_ws`, `graphql_transport_ws`

```yaml title="subscription.mode.passthrough.all.protocol"
protocol: graphql_ws
```


---

### `subscription.mode.passthrough.subgraphs`

Configuration for specific subgraphs

- **Type:** `object`
- **Default:** `{}`

```yaml title="subscription.mode.passthrough.subgraphs"
subgraphs: {}
```


---

### `subscription.queue_capacity`

It represent the capacity of the in memory queue to know how many events we can keep in a buffer

- **Type:** `integer`
- **Default:** `None`
- **Minimum:** `0.0`

```yaml title="subscription.queue_capacity"
queue_capacity: null
```


---

### `supergraph`

Configuration options pertaining to the supergraph server component.

- **Type:** `object`

```yaml title="supergraph"
supergraph:
  defer_support: true
  early_cancel: false
  experimental_log_on_broken_pipe: false
  generate_query_fragments: true
  introspection: false
  listen: example_listen
  path: /
  query_planning:
    cache:
      in_memory:
        limit: 1
      redis:
        namespace: example_namespace
        password: example_password
        pool_size: 1
        required_to_start: false
        reset_ttl: true
        timeout: null
        tls:
          certificate_authorities: null
          client_authentication:
            certificate_chain: example_certificate_chain
            key: example_key
        ttl:
          nanos: 0
          secs: 2592000
        urls:
        - http://example.com/urls_item
        username: example_username
    experimental_paths_limit: null
    experimental_plans_limit: null
    experimental_reuse_query_plans: false
    warmed_up_queries: null
```


---

### `supergraph.defer_support`

Set to false to disable defer support

- **Type:** `boolean`
- **Default:** `True`

```yaml title="supergraph.defer_support"
defer_support: true
```


---

### `supergraph.early_cancel`

abort request handling when the client drops the connection. Default: false. When set to true, some parts of the request pipeline like telemetry will not work properly, but request handling will stop immediately when the client connection is closed.

- **Type:** `boolean`
- **Default:** `False`

```yaml title="supergraph.early_cancel"
early_cancel: false
```


---

### `supergraph.experimental_log_on_broken_pipe`

Log a message if the client closes the connection before the response is sent. Default: false.

- **Type:** `boolean`
- **Default:** `False`

```yaml title="supergraph.experimental_log_on_broken_pipe"
experimental_log_on_broken_pipe: false
```


---

### `supergraph.generate_query_fragments`

Enable QP generation of fragments for subgraph requests Default: true

- **Type:** `boolean`
- **Default:** `True`

```yaml title="supergraph.generate_query_fragments"
generate_query_fragments: true
```


---

### `supergraph.introspection`

Enable introspection Default: false

- **Type:** `boolean`
- **Default:** `False`

```yaml title="supergraph.introspection"
introspection: false
```


---

### `supergraph.listen`

Listening address.

- **Type:** `any`

```yaml title="supergraph.listen"
listen: example_listen
```


---

### `supergraph.path`

The HTTP path on which GraphQL requests will be served. default: "/"

- **Type:** `string`
- **Default:** `'/'`

```yaml title="supergraph.path"
path: /
```


---

### `supergraph.query_planning`

Query planning cache configuration

- **Type:** `object`

```yaml title="supergraph.query_planning"
query_planning:
  cache:
    in_memory:
      limit: 1
    redis:
      namespace: example_namespace
      password: example_password
      pool_size: 1
      required_to_start: false
      reset_ttl: true
      timeout: null
      tls:
        certificate_authorities: null
        client_authentication:
          certificate_chain: example_certificate_chain
          key: example_key
      ttl:
        nanos: 0
        secs: 2592000
      urls:
      - http://example.com/urls_item
      username: example_username
  experimental_paths_limit: null
  experimental_plans_limit: null
  experimental_reuse_query_plans: false
  warmed_up_queries: null
```


---

### `supergraph.query_planning.cache`

Cache configuration

- **Type:** `object`

```yaml title="supergraph.query_planning.cache"
cache:
  in_memory:
    limit: 1
  redis:
    namespace: example_namespace
    password: example_password
    pool_size: 1
    required_to_start: false
    reset_ttl: true
    timeout: null
    tls:
      certificate_authorities: null
      client_authentication:
        certificate_chain: example_certificate_chain
        key: example_key
    ttl:
      nanos: 0
      secs: 2592000
    urls:
    - http://example.com/urls_item
    username: example_username
```


---

### `supergraph.query_planning.cache.in_memory`

In memory cache configuration

- **Type:** `object`

```yaml title="supergraph.query_planning.cache.in_memory"
in_memory:
  limit: 1
```


---

### `supergraph.query_planning.cache.in_memory.limit`

Number of entries in the Least Recently Used cache

- **Type:** `integer`
- **Minimum:** `1.0`

```yaml title="supergraph.query_planning.cache.in_memory.limit"
limit: 1
```


---

### `supergraph.query_planning.cache.redis`

Redis cache configuration

- **Type:** `object`

```yaml title="supergraph.query_planning.cache.redis"
redis:
  namespace: example_namespace
  password: example_password
  pool_size: 1
  required_to_start: false
  reset_ttl: true
  timeout: null
  tls:
    certificate_authorities: null
    client_authentication:
      certificate_chain: example_certificate_chain
      key: example_key
  ttl:
    nanos: 0
    secs: 2592000
  urls:
  - http://example.com/urls_item
  username: example_username
```


---

### `supergraph.query_planning.cache.redis.namespace`

namespace used to prefix Redis keys

- **Type:** `string`

```yaml title="supergraph.query_planning.cache.redis.namespace"
namespace: example_namespace
```


---

### `supergraph.query_planning.cache.redis.password`

Redis password if not provided in the URLs. This field takes precedence over the password in the URL

- **Type:** `string`

```yaml title="supergraph.query_planning.cache.redis.password"
password: example_password
```


---

### `supergraph.query_planning.cache.redis.pool_size`

The size of the Redis connection pool

- **Type:** `integer`
- **Default:** `1`
- **Minimum:** `0.0`

```yaml title="supergraph.query_planning.cache.redis.pool_size"
pool_size: 1
```


---

### `supergraph.query_planning.cache.redis.required_to_start`

Prevents the router from starting if it cannot connect to Redis

- **Type:** `boolean`
- **Default:** `False`

```yaml title="supergraph.query_planning.cache.redis.required_to_start"
required_to_start: false
```


---

### `supergraph.query_planning.cache.redis.reset_ttl`

When a TTL is set on a key, reset it when reading the data from that key

- **Type:** `boolean`
- **Default:** `True`

```yaml title="supergraph.query_planning.cache.redis.reset_ttl"
reset_ttl: true
```


---

### `supergraph.query_planning.cache.redis.timeout`

Redis request timeout (default: 2ms)

- **Type:** `string`
- **Default:** `None`

```yaml title="supergraph.query_planning.cache.redis.timeout"
timeout: null
```


---

### `supergraph.query_planning.cache.redis.tls`

Configuration options pertaining to the subgraph server component.

- **Type:** `object`

```yaml title="supergraph.query_planning.cache.redis.tls"
tls:
  certificate_authorities: null
  client_authentication:
    certificate_chain: example_certificate_chain
    key: example_key
```


---

### `supergraph.query_planning.cache.redis.ttl`

TTL for entries

- **Type:** `string`
- **Default:** `{"secs": 2592000, "nanos": 0}`

```yaml title="supergraph.query_planning.cache.redis.ttl"
ttl:
  nanos: 0
  secs: 2592000
```


---

### `supergraph.query_planning.cache.redis.urls`

List of URLs to the Redis cluster

- **Type:** `array`

```yaml title="supergraph.query_planning.cache.redis.urls"
urls:
- http://example.com/urls_item
```


---

### `supergraph.query_planning.cache.redis.username`

Redis username if not provided in the URLs. This field takes precedence over the username in the URL

- **Type:** `string`

```yaml title="supergraph.query_planning.cache.redis.username"
username: example_username
```


---

### `supergraph.query_planning.experimental_paths_limit`

Before creating query plans, for each path of fields in the query we compute all the possible options to traverse that path via the subgraphs. Multiple options can arise because fields in the path can be provided by multiple subgraphs, and abstract types (i.e. unions and interfaces) returned by fields sometimes require the query planner to traverse through each constituent object type. The number of options generated in this computation can grow large if the schema or query are sufficiently complex, and that will increase the time spent planning.

This config allows specifying a per-path limit to the number of options considered. If any path's options exceeds this limit, query planning will abort and the operation will fail.

The default value is None, which specifies no limit.

- **Type:** `integer`
- **Default:** `None`
- **Minimum:** `0.0`

```yaml title="supergraph.query_planning.experimental_paths_limit"
experimental_paths_limit: null
```


---

### `supergraph.query_planning.experimental_plans_limit`

Sets a limit to the number of generated query plans. The planning process generates many different query plans as it explores the graph, and the list can grow large. By using this limit, we prevent that growth and still get a valid query plan, but it may not be the optimal one.

The default limit is set to 10000, but it may change in the future

- **Type:** `integer`
- **Default:** `None`
- **Minimum:** `0.0`

```yaml title="supergraph.query_planning.experimental_plans_limit"
experimental_plans_limit: null
```


---

### `supergraph.query_planning.experimental_reuse_query_plans`

If cache warm up is configured, this will allow the router to keep a query plan created with the old schema, if it determines that the schema update does not affect the corresponding query

- **Type:** `boolean`
- **Default:** `False`

```yaml title="supergraph.query_planning.experimental_reuse_query_plans"
experimental_reuse_query_plans: false
```


---

### `supergraph.query_planning.warmed_up_queries`

Warms up the cache on reloads by running the query plan over a list of the most used queries (from the in memory cache) Configures the number of queries warmed up. Defaults to 1/3 of the in memory cache

- **Type:** `integer`
- **Default:** `None`
- **Minimum:** `0.0`

```yaml title="supergraph.query_planning.warmed_up_queries"
warmed_up_queries: null
```


---

### `telemetry`

Telemetry configuration

- **Type:** `object`

```yaml title="telemetry"
telemetry:
  apollo:
    batch_processor:
      max_concurrent_exports: 1
      max_export_batch_size: 512
      max_export_timeout:
        nanos: 0
        secs: 30
      max_queue_size: 2048
      scheduled_delay:
        nanos: 0
        secs: 5
    buffer_size: 10000
    client_name_header: apollographql-client-name
    client_version_header: apollographql-client-version
    endpoint: https://usage-reporting.api.apollographql.com/api/ingress/traces
    errors:
      preview_extended_error_metrics: disabled
      subgraph:
        all:
          redact: true
          redaction_policy: strict
          send: true
        subgraphs: {}
    experimental_local_field_metrics: false
    experimental_otlp_endpoint: https://usage-reporting.api.apollographql.com/
    experimental_otlp_tracing_protocol: grpc
    field_level_instrumentation_sampler: 0.0
    metrics_reference_mode: extended
    otlp_tracing_sampler: 0.0
    send_headers:
      only:
      - example_only_item
    send_variable_values:
      only:
      - example_only_item
    signature_normalization_algorithm: legacy
  exporters:
    logging:
      common:
        resource: {}
        service_name: null
        service_namespace: null
      stdout:
        enabled: true
        format:
          json:
            display_current_span: false
            display_filename: false
            display_level: true
            display_line_number: false
            display_resource: true
            display_span_id: true
            display_span_list: true
            display_target: true
            display_thread_id: false
            display_thread_name: false
            display_timestamp: true
            display_trace_id: hexadecimal
            span_attributes: []
        rate_limit:
          capacity: 1
          enabled: false
          interval:
            nanos: 0
            secs: 1
        tty_format:
          json:
            display_current_span: false
            display_filename: false
            display_level: true
            display_line_number: false
            display_resource: true
            display_span_id: true
            display_span_list: true
            display_target: true
            display_thread_id: false
            display_thread_name: false
            display_timestamp: true
            display_trace_id: hexadecimal
            span_attributes: []
    metrics:
      common:
        buckets:
        - 0.001
        - 0.005
        - 0.015
        - 0.05
        - 0.1
        - 0.2
        - 0.3
        - 0.4
        - 0.5
        - 1.0
        - 5.0
        - 10.0
        resource: {}
        service_name: null
        service_namespace: null
        views:
        - aggregation:
            histogram:
              buckets:
              - 0.0
          allowed_attribute_keys:
          - example_allowed_attribute_keys_item
          description: example_description
          name: example_name
          unit: example_unit
      otlp:
        batch_processor:
          max_concurrent_exports: 1
          max_export_batch_size: 512
          max_export_timeout:
            nanos: 0
            secs: 30
          max_queue_size: 2048
          scheduled_delay:
            nanos: 0
            secs: 5
        enabled: false
        endpoint: example_endpoint
        grpc:
          ca: null
          cert: null
          domain_name: null
          key: null
          metadata: {}
        http:
          headers: {}
        protocol: grpc
        temporality: cumulative
      prometheus:
        enabled: false
        listen: example_listen
        path: /metrics
    tracing:
      common:
        max_attributes_per_event: 128
        max_attributes_per_link: 128
        max_attributes_per_span: 128
        max_events_per_span: 128
        max_links_per_span: 128
        parent_based_sampler: true
        preview_datadog_agent_sampling: null
        resource: {}
        sampler: 0.0
        service_name: null
        service_namespace: null
      datadog:
        batch_processor:
          max_concurrent_exports: 1
          max_export_batch_size: 512
          max_export_timeout:
            nanos: 0
            secs: 30
          max_queue_size: 2048
          scheduled_delay:
            nanos: 0
            secs: 5
        enable_span_mapping: true
        enabled: false
        endpoint: example_endpoint
        fixed_span_names: true
        resource_mapping: {}
        span_metrics:
          connect: true
          connect_request: true
          execution: true
          http_request: true
          parse_query: true
          query_planning: true
          request: true
          router: true
          subgraph: true
          subgraph_request: true
          supergraph: true
      experimental_response_trace_id:
        enabled: false
        format: hexadecimal
        header_name: example_header_name
      otlp:
        batch_processor:
          max_concurrent_exports: 1
          max_export_batch_size: 512
          max_export_timeout:
            nanos: 0
            secs: 30
          max_queue_size: 2048
          scheduled_delay:
            nanos: 0
            secs: 5
        enabled: false
        endpoint: example_endpoint
        grpc:
          ca: null
          cert: null
          domain_name: null
          key: null
          metadata: {}
        http:
          headers: {}
        protocol: grpc
        temporality: cumulative
      propagation:
        aws_xray: false
        baggage: false
        datadog: false
        jaeger: false
        request:
          format: hexadecimal
          header_name: example_header_name
        trace_context: false
        zipkin: false
      zipkin:
        batch_processor:
          max_concurrent_exports: 1
          max_export_batch_size: 512
          max_export_timeout:
            nanos: 0
            secs: 30
          max_queue_size: 2048
          scheduled_delay:
            nanos: 0
            secs: 5
        enabled: false
        endpoint: example_endpoint
  instrumentation:
    events:
      connector:
        error:
          condition:
            eq:
            - false
            - false
          level: info
        request:
          condition:
            eq:
            - false
            - false
          level: info
        response:
          condition:
            eq:
            - false
            - false
          level: info
      router:
        error:
          condition:
            eq:
            - false
            - false
          level: info
        request:
          condition:
            eq:
            - false
            - false
          level: info
        response:
          condition:
            eq:
            - false
            - false
          level: info
      subgraph:
        error:
          condition:
            eq:
            - false
            - false
          level: info
        request:
          condition:
            eq:
            - false
            - false
          level: info
        response:
          condition:
            eq:
            - false
            - false
          level: info
      supergraph:
        error:
          condition:
            eq:
            - false
            - false
          level: info
        request:
          condition:
            eq:
            - false
            - false
          level: info
        response:
          condition:
            eq:
            - false
            - false
          level: info
    instruments:
      cache:
        apollo.router.operations.entity.cache:
          attributes:
            graphql.type.name:
              alias: example_alias
      connector:
        http.client.request.body.size:
          attributes:
            connector.http.method:
              alias: example_alias
            connector.source.name:
              alias: example_alias
            connector.url.template:
              alias: example_alias
            subgraph.name:
              alias: example_alias
        http.client.request.duration:
          attributes:
            connector.http.method:
              alias: example_alias
            connector.source.name:
              alias: example_alias
            connector.url.template:
              alias: example_alias
            subgraph.name:
              alias: example_alias
        http.client.response.body.size:
          attributes:
            connector.http.method:
              alias: example_alias
            connector.source.name:
              alias: example_alias
            connector.url.template:
              alias: example_alias
            subgraph.name:
              alias: example_alias
      default_requirement_level: none
      graphql:
        field.execution:
          attributes:
            graphql.field.name:
              alias: example_alias
            graphql.field.type:
              alias: example_alias
            graphql.list.length:
              alias: example_alias
            graphql.operation.name:
              alias: example_alias
            graphql.type.name:
              alias: example_alias
        list.length:
          attributes:
            graphql.field.name:
              alias: example_alias
            graphql.field.type:
              alias: example_alias
            graphql.list.length:
              alias: example_alias
            graphql.operation.name:
              alias: example_alias
            graphql.type.name:
              alias: example_alias
      router:
        http.server.active_requests:
          attributes:
            http.request.method: false
            server.address: false
            server.port: false
            url.scheme: false
        http.server.request.body.size:
          attributes:
            baggage: null
            dd.trace_id:
              alias: example_alias
            error.type:
              alias: example_alias
            http.request.body.size:
              alias: example_alias
            http.request.method:
              alias: example_alias
            http.response.body.size:
              alias: example_alias
            http.response.status_code:
              alias: example_alias
            http.route:
              alias: example_alias
            network.local.address:
              alias: example_alias
            network.local.port:
              alias: example_alias
            network.peer.address:
              alias: example_alias
            network.peer.port:
              alias: example_alias
            network.protocol.name:
              alias: example_alias
            network.protocol.version:
              alias: example_alias
            network.transport:
              alias: example_alias
            network.type:
              alias: example_alias
            server.address:
              alias: example_alias
            server.port:
              alias: example_alias
            trace_id:
              alias: example_alias
            url.path:
              alias: example_alias
            url.query:
              alias: example_alias
            url.scheme:
              alias: example_alias
            user_agent.original:
              alias: example_alias
        http.server.request.duration:
          attributes:
            baggage: null
            dd.trace_id:
              alias: example_alias
            error.type:
              alias: example_alias
            http.request.body.size:
              alias: example_alias
            http.request.method:
              alias: example_alias
            http.response.body.size:
              alias: example_alias
            http.response.status_code:
              alias: example_alias
            http.route:
              alias: example_alias
            network.local.address:
              alias: example_alias
            network.local.port:
              alias: example_alias
            network.peer.address:
              alias: example_alias
            network.peer.port:
              alias: example_alias
            network.protocol.name:
              alias: example_alias
            network.protocol.version:
              alias: example_alias
            network.transport:
              alias: example_alias
            network.type:
              alias: example_alias
            server.address:
              alias: example_alias
            server.port:
              alias: example_alias
            trace_id:
              alias: example_alias
            url.path:
              alias: example_alias
            url.query:
              alias: example_alias
            url.scheme:
              alias: example_alias
            user_agent.original:
              alias: example_alias
        http.server.response.body.size:
          attributes:
            baggage: null
            dd.trace_id:
              alias: example_alias
            error.type:
              alias: example_alias
            http.request.body.size:
              alias: example_alias
            http.request.method:
              alias: example_alias
            http.response.body.size:
              alias: example_alias
            http.response.status_code:
              alias: example_alias
            http.route:
              alias: example_alias
            network.local.address:
              alias: example_alias
            network.local.port:
              alias: example_alias
            network.peer.address:
              alias: example_alias
            network.peer.port:
              alias: example_alias
            network.protocol.name:
              alias: example_alias
            network.protocol.version:
              alias: example_alias
            network.transport:
              alias: example_alias
            network.type:
              alias: example_alias
            server.address:
              alias: example_alias
            server.port:
              alias: example_alias
            trace_id:
              alias: example_alias
            url.path:
              alias: example_alias
            url.query:
              alias: example_alias
            url.scheme:
              alias: example_alias
            user_agent.original:
              alias: example_alias
      subgraph:
        http.client.request.body.size:
          attributes:
            http.request.resend_count:
              alias: example_alias
            subgraph.graphql.document:
              alias: example_alias
            subgraph.graphql.operation.name:
              alias: example_alias
            subgraph.graphql.operation.type:
              alias: example_alias
            subgraph.name:
              alias: example_alias
        http.client.request.duration:
          attributes:
            http.request.resend_count:
              alias: example_alias
            subgraph.graphql.document:
              alias: example_alias
            subgraph.graphql.operation.name:
              alias: example_alias
            subgraph.graphql.operation.type:
              alias: example_alias
            subgraph.name:
              alias: example_alias
        http.client.response.body.size:
          attributes:
            http.request.resend_count:
              alias: example_alias
            subgraph.graphql.document:
              alias: example_alias
            subgraph.graphql.operation.name:
              alias: example_alias
            subgraph.graphql.operation.type:
              alias: example_alias
            subgraph.name:
              alias: example_alias
      supergraph:
        cost.actual:
          attributes:
            cost.actual:
              alias: example_alias
            cost.delta:
              alias: example_alias
            cost.estimated:
              alias: example_alias
            cost.result:
              alias: example_alias
            graphql.document:
              alias: example_alias
            graphql.operation.name:
              alias: example_alias
            graphql.operation.type:
              alias: example_alias
        cost.delta:
          attributes:
            cost.actual:
              alias: example_alias
            cost.delta:
              alias: example_alias
            cost.estimated:
              alias: example_alias
            cost.result:
              alias: example_alias
            graphql.document:
              alias: example_alias
            graphql.operation.name:
              alias: example_alias
            graphql.operation.type:
              alias: example_alias
        cost.estimated:
          attributes:
            cost.actual:
              alias: example_alias
            cost.delta:
              alias: example_alias
            cost.estimated:
              alias: example_alias
            cost.result:
              alias: example_alias
            graphql.document:
              alias: example_alias
            graphql.operation.name:
              alias: example_alias
            graphql.operation.type:
              alias: example_alias
    spans:
      connector:
        attributes:
          connector.http.method:
            alias: example_alias
          connector.source.name:
            alias: example_alias
          connector.url.template:
            alias: example_alias
          subgraph.name:
            alias: example_alias
      default_attribute_requirement_level: none
      mode: deprecated
      router:
        attributes:
          baggage: null
          dd.trace_id:
            alias: example_alias
          error.type:
            alias: example_alias
          http.request.body.size:
            alias: example_alias
          http.request.method:
            alias: example_alias
          http.response.body.size:
            alias: example_alias
          http.response.status_code:
            alias: example_alias
          http.route:
            alias: example_alias
          network.local.address:
            alias: example_alias
          network.local.port:
            alias: example_alias
          network.peer.address:
            alias: example_alias
          network.peer.port:
            alias: example_alias
          network.protocol.name:
            alias: example_alias
          network.protocol.version:
            alias: example_alias
          network.transport:
            alias: example_alias
          network.type:
            alias: example_alias
          server.address:
            alias: example_alias
          server.port:
            alias: example_alias
          trace_id:
            alias: example_alias
          url.path:
            alias: example_alias
          url.query:
            alias: example_alias
          url.scheme:
            alias: example_alias
          user_agent.original:
            alias: example_alias
      subgraph:
        attributes:
          http.request.resend_count:
            alias: example_alias
          subgraph.graphql.document:
            alias: example_alias
          subgraph.graphql.operation.name:
            alias: example_alias
          subgraph.graphql.operation.type:
            alias: example_alias
          subgraph.name:
            alias: example_alias
      supergraph:
        attributes:
          cost.actual:
            alias: example_alias
          cost.delta:
            alias: example_alias
          cost.estimated:
            alias: example_alias
          cost.result:
            alias: example_alias
          graphql.document:
            alias: example_alias
          graphql.operation.name:
            alias: example_alias
          graphql.operation.type:
            alias: example_alias
```


---

### `telemetry.apollo`

- **Type:** `object`

```yaml title="telemetry.apollo"
apollo:
  batch_processor:
    max_concurrent_exports: 1
    max_export_batch_size: 512
    max_export_timeout:
      nanos: 0
      secs: 30
    max_queue_size: 2048
    scheduled_delay:
      nanos: 0
      secs: 5
  buffer_size: 10000
  client_name_header: apollographql-client-name
  client_version_header: apollographql-client-version
  endpoint: https://usage-reporting.api.apollographql.com/api/ingress/traces
  errors:
    preview_extended_error_metrics: disabled
    subgraph:
      all:
        redact: true
        redaction_policy: strict
        send: true
      subgraphs: {}
  experimental_local_field_metrics: false
  experimental_otlp_endpoint: https://usage-reporting.api.apollographql.com/
  experimental_otlp_tracing_protocol: grpc
  field_level_instrumentation_sampler: 0.0
  metrics_reference_mode: extended
  otlp_tracing_sampler: 0.0
  send_headers:
    only:
    - example_only_item
  send_variable_values:
    only:
    - example_only_item
  signature_normalization_algorithm: legacy
```


---

### `telemetry.apollo.batch_processor`

Batch processor configuration

- **Type:** `object`

```yaml title="telemetry.apollo.batch_processor"
batch_processor:
  max_concurrent_exports: 1
  max_export_batch_size: 512
  max_export_timeout:
    nanos: 0
    secs: 30
  max_queue_size: 2048
  scheduled_delay:
    nanos: 0
    secs: 5
```


---

### `telemetry.apollo.batch_processor.max_concurrent_exports`

Maximum number of concurrent exports

Limits the number of spawned tasks for exports and thus memory consumed by an exporter. A value of 1 will cause exports to be performed synchronously on the BatchSpanProcessor task. The default is 1.

- **Type:** `integer`
- **Default:** `1`
- **Minimum:** `0.0`

```yaml title="telemetry.apollo.batch_processor.max_concurrent_exports"
max_concurrent_exports: 1
```


---

### `telemetry.apollo.batch_processor.max_export_batch_size`

The maximum number of spans to process in a single batch. If there are more than one batch worth of spans then it processes multiple batches of spans one batch after the other without any delay. The default value is 512.

- **Type:** `integer`
- **Default:** `512`
- **Minimum:** `0.0`

```yaml title="telemetry.apollo.batch_processor.max_export_batch_size"
max_export_batch_size: 512
```


---

### `telemetry.apollo.batch_processor.max_export_timeout`

The maximum duration to export a batch of data. The default value is 30 seconds.

- **Type:** `string`
- **Default:** `{"secs": 30, "nanos": 0}`

```yaml title="telemetry.apollo.batch_processor.max_export_timeout"
max_export_timeout:
  nanos: 0
  secs: 30
```


---

### `telemetry.apollo.batch_processor.max_queue_size`

The maximum queue size to buffer spans for delayed processing. If the queue gets full it drops the spans. The default value of is 2048.

- **Type:** `integer`
- **Default:** `2048`
- **Minimum:** `0.0`

```yaml title="telemetry.apollo.batch_processor.max_queue_size"
max_queue_size: 2048
```


---

### `telemetry.apollo.batch_processor.scheduled_delay`

The delay interval in milliseconds between two consecutive processing of batches. The default value is 5 seconds.

- **Type:** `string`
- **Default:** `{"secs": 5, "nanos": 0}`

```yaml title="telemetry.apollo.batch_processor.scheduled_delay"
scheduled_delay:
  nanos: 0
  secs: 5
```


---

### `telemetry.apollo.buffer_size`

The buffer size for sending traces to Apollo. Increase this if you are experiencing lost traces.

- **Type:** `integer`
- **Default:** `10000`
- **Minimum:** `1.0`

```yaml title="telemetry.apollo.buffer_size"
buffer_size: 10000
```


---

### `telemetry.apollo.client_name_header`

The name of the header to extract from requests when populating 'client name' for traces and metrics in Apollo Studio.

- **Type:** `string`
- **Default:** `'apollographql-client-name'`

```yaml title="telemetry.apollo.client_name_header"
client_name_header: apollographql-client-name
```


---

### `telemetry.apollo.client_version_header`

The name of the header to extract from requests when populating 'client version' for traces and metrics in Apollo Studio.

- **Type:** `string`
- **Default:** `'apollographql-client-version'`

```yaml title="telemetry.apollo.client_version_header"
client_version_header: apollographql-client-version
```


---

### `telemetry.apollo.endpoint`

The Apollo Studio endpoint for exporting traces and metrics.

- **Type:** `string`
- **Default:** `'https://usage-reporting.api.apollographql.com/api/ingress/traces'`

```yaml title="telemetry.apollo.endpoint"
endpoint: https://usage-reporting.api.apollographql.com/api/ingress/traces
```


---

### `telemetry.apollo.errors`

- **Type:** `object`

```yaml title="telemetry.apollo.errors"
errors:
  preview_extended_error_metrics: disabled
  subgraph:
    all:
      redact: true
      redaction_policy: strict
      send: true
    subgraphs: {}
```


---

### `telemetry.apollo.errors.preview_extended_error_metrics`

Extended Open Telemetry error metrics mode

- **Type:** `any`

```yaml title="telemetry.apollo.errors.preview_extended_error_metrics"
preview_extended_error_metrics: disabled
```


---

### `telemetry.apollo.errors.subgraph`

- **Type:** `object`

```yaml title="telemetry.apollo.errors.subgraph"
subgraph:
  all:
    redact: true
    redaction_policy: strict
    send: true
  subgraphs: {}
```


---

### `telemetry.apollo.errors.subgraph.all`

- **Type:** `object`

```yaml title="telemetry.apollo.errors.subgraph.all"
all:
  redact: true
  redaction_policy: strict
  send: true
```


---

### `telemetry.apollo.errors.subgraph.subgraphs`

Handling of errors coming from specified subgraphs

- **Type:** `object`

```yaml title="telemetry.apollo.errors.subgraph.subgraphs"
subgraphs: {}
```


---

### `telemetry.apollo.experimental_local_field_metrics`

Enable field metrics that are generated without FTV1 to be sent to Apollo Studio.

- **Type:** `boolean`
- **Default:** `False`

```yaml title="telemetry.apollo.experimental_local_field_metrics"
experimental_local_field_metrics: false
```


---

### `telemetry.apollo.experimental_otlp_endpoint`

The Apollo Studio endpoint for exporting traces and metrics.

- **Type:** `string`
- **Default:** `'https://usage-reporting.api.apollographql.com/'`

```yaml title="telemetry.apollo.experimental_otlp_endpoint"
experimental_otlp_endpoint: https://usage-reporting.api.apollographql.com/
```


---

### `telemetry.apollo.experimental_otlp_tracing_protocol`

- **Type:** `string`
- **Enum:** `grpc`, `http`

```yaml title="telemetry.apollo.experimental_otlp_tracing_protocol"
experimental_otlp_tracing_protocol: grpc
```


---

### `telemetry.apollo.field_level_instrumentation_sampler`

- **Type:** `any`

```yaml title="telemetry.apollo.field_level_instrumentation_sampler"
field_level_instrumentation_sampler: 0.0
```


---

### `telemetry.apollo.metrics_reference_mode`

Apollo usage report reference generation modes.

- **Type:** `any`

```yaml title="telemetry.apollo.metrics_reference_mode"
metrics_reference_mode: extended
```


---

### `telemetry.apollo.otlp_tracing_sampler`

- **Type:** `any`

```yaml title="telemetry.apollo.otlp_tracing_sampler"
otlp_tracing_sampler: 0.0
```


---

### `telemetry.apollo.send_headers`

Forward headers

- **Type:** `any`

```yaml title="telemetry.apollo.send_headers"
send_headers:
  only:
  - example_only_item
```


---

### `telemetry.apollo.send_variable_values`

Forward GraphQL variables

- **Type:** `any`

```yaml title="telemetry.apollo.send_variable_values"
send_variable_values:
  only:
  - example_only_item
```


---

### `telemetry.apollo.signature_normalization_algorithm`

Signature normalization algorithm for Apollo's usage report. 

- **Type:** `any`
- **Default:** `legacy`

Apollo's legacy operation signature algorithm removes information about certain fields, such as input objects and aliases.
This removal means some operations may have the same normalized signature though they are distinct operations.

Enhanced normalization incorporates [input types](#input-types) and [aliases](#aliases) in signature generation.
It also includes other improvements that make it more likely that two operations that only vary slightly have the same signature.

<Note>

The router supports enhanced operation signature normalization in the following versions:

- [General availability](/resources/product-launch-stages/#general-availability) in v1.54.0 and later
- [Experimental](/resources/product-launch-stages/#experimental-features) in v1.49.0 to v1.53.0

</Note>

Configure enhanced operation signature normalization in `router.yaml` with the `telemetry.apollo.signature_normalization_algorithm` option:

```yaml title="router.yaml"
telemetry:
  apollo:
    signature_normalization_algorithm: enhanced # Default is legacy
```

Once you enable this configuration, operations with enhanced signatures might appear with different operation IDs than they did previously in GraphOS Studio.


---

### `telemetry.exporters`

Exporter configuration

- **Type:** `object`

```yaml title="telemetry.exporters"
exporters:
  logging:
    common:
      resource: {}
      service_name: null
      service_namespace: null
    stdout:
      enabled: true
      format:
        json:
          display_current_span: false
          display_filename: false
          display_level: true
          display_line_number: false
          display_resource: true
          display_span_id: true
          display_span_list: true
          display_target: true
          display_thread_id: false
          display_thread_name: false
          display_timestamp: true
          display_trace_id: hexadecimal
          span_attributes: []
      rate_limit:
        capacity: 1
        enabled: false
        interval:
          nanos: 0
          secs: 1
      tty_format:
        json:
          display_current_span: false
          display_filename: false
          display_level: true
          display_line_number: false
          display_resource: true
          display_span_id: true
          display_span_list: true
          display_target: true
          display_thread_id: false
          display_thread_name: false
          display_timestamp: true
          display_trace_id: hexadecimal
          span_attributes: []
  metrics:
    common:
      buckets:
      - 0.001
      - 0.005
      - 0.015
      - 0.05
      - 0.1
      - 0.2
      - 0.3
      - 0.4
      - 0.5
      - 1.0
      - 5.0
      - 10.0
      resource: {}
      service_name: null
      service_namespace: null
      views:
      - aggregation:
          histogram:
            buckets:
            - 0.0
        allowed_attribute_keys:
        - example_allowed_attribute_keys_item
        description: example_description
        name: example_name
        unit: example_unit
    otlp:
      batch_processor:
        max_concurrent_exports: 1
        max_export_batch_size: 512
        max_export_timeout:
          nanos: 0
          secs: 30
        max_queue_size: 2048
        scheduled_delay:
          nanos: 0
          secs: 5
      enabled: false
      endpoint: example_endpoint
      grpc:
        ca: null
        cert: null
        domain_name: null
        key: null
        metadata: {}
      http:
        headers: {}
      protocol: grpc
      temporality: cumulative
    prometheus:
      enabled: false
      listen: example_listen
      path: /metrics
  tracing:
    common:
      max_attributes_per_event: 128
      max_attributes_per_link: 128
      max_attributes_per_span: 128
      max_events_per_span: 128
      max_links_per_span: 128
      parent_based_sampler: true
      preview_datadog_agent_sampling: null
      resource: {}
      sampler: 0.0
      service_name: null
      service_namespace: null
    datadog:
      batch_processor:
        max_concurrent_exports: 1
        max_export_batch_size: 512
        max_export_timeout:
          nanos: 0
          secs: 30
        max_queue_size: 2048
        scheduled_delay:
          nanos: 0
          secs: 5
      enable_span_mapping: true
      enabled: false
      endpoint: example_endpoint
      fixed_span_names: true
      resource_mapping: {}
      span_metrics:
        connect: true
        connect_request: true
        execution: true
        http_request: true
        parse_query: true
        query_planning: true
        request: true
        router: true
        subgraph: true
        subgraph_request: true
        supergraph: true
    experimental_response_trace_id:
      enabled: false
      format: hexadecimal
      header_name: example_header_name
    otlp:
      batch_processor:
        max_concurrent_exports: 1
        max_export_batch_size: 512
        max_export_timeout:
          nanos: 0
          secs: 30
        max_queue_size: 2048
        scheduled_delay:
          nanos: 0
          secs: 5
      enabled: false
      endpoint: example_endpoint
      grpc:
        ca: null
        cert: null
        domain_name: null
        key: null
        metadata: {}
      http:
        headers: {}
      protocol: grpc
      temporality: cumulative
    propagation:
      aws_xray: false
      baggage: false
      datadog: false
      jaeger: false
      request:
        format: hexadecimal
        header_name: example_header_name
      trace_context: false
      zipkin: false
    zipkin:
      batch_processor:
        max_concurrent_exports: 1
        max_export_batch_size: 512
        max_export_timeout:
          nanos: 0
          secs: 30
        max_queue_size: 2048
        scheduled_delay:
          nanos: 0
          secs: 5
      enabled: false
      endpoint: example_endpoint
```


---

### `telemetry.exporters.logging`

Logging configuration.

- **Type:** `object`

```yaml title="telemetry.exporters.logging"
logging:
  common:
    resource: {}
    service_name: null
    service_namespace: null
  stdout:
    enabled: true
    format:
      json:
        display_current_span: false
        display_filename: false
        display_level: true
        display_line_number: false
        display_resource: true
        display_span_id: true
        display_span_list: true
        display_target: true
        display_thread_id: false
        display_thread_name: false
        display_timestamp: true
        display_trace_id: hexadecimal
        span_attributes: []
    rate_limit:
      capacity: 1
      enabled: false
      interval:
        nanos: 0
        secs: 1
    tty_format:
      json:
        display_current_span: false
        display_filename: false
        display_level: true
        display_line_number: false
        display_resource: true
        display_span_id: true
        display_span_list: true
        display_target: true
        display_thread_id: false
        display_thread_name: false
        display_timestamp: true
        display_trace_id: hexadecimal
        span_attributes: []
```


---

### `telemetry.exporters.logging.common`

- **Type:** `object`

```yaml title="telemetry.exporters.logging.common"
common:
  resource: {}
  service_name: null
  service_namespace: null
```


---

### `telemetry.exporters.logging.common.resource`

The Open Telemetry resource

- **Type:** `object`
- **Default:** `{}`

```yaml title="telemetry.exporters.logging.common.resource"
resource: {}
```


---

### `telemetry.exporters.logging.common.service_name`

Set a service.name resource in your metrics

- **Type:** `string`
- **Default:** `None`

```yaml title="telemetry.exporters.logging.common.service_name"
service_name: null
```


---

### `telemetry.exporters.logging.common.service_namespace`

Set a service.namespace attribute in your metrics

- **Type:** `string`
- **Default:** `None`

```yaml title="telemetry.exporters.logging.common.service_namespace"
service_namespace: null
```


---

### `telemetry.exporters.logging.stdout`

- **Type:** `object`

```yaml title="telemetry.exporters.logging.stdout"
stdout:
  enabled: true
  format:
    json:
      display_current_span: false
      display_filename: false
      display_level: true
      display_line_number: false
      display_resource: true
      display_span_id: true
      display_span_list: true
      display_target: true
      display_thread_id: false
      display_thread_name: false
      display_timestamp: true
      display_trace_id: hexadecimal
      span_attributes: []
  rate_limit:
    capacity: 1
    enabled: false
    interval:
      nanos: 0
      secs: 1
  tty_format:
    json:
      display_current_span: false
      display_filename: false
      display_level: true
      display_line_number: false
      display_resource: true
      display_span_id: true
      display_span_list: true
      display_target: true
      display_thread_id: false
      display_thread_name: false
      display_timestamp: true
      display_trace_id: hexadecimal
      span_attributes: []
```


---

### `telemetry.exporters.logging.stdout.enabled`

Set to true to log to stdout.

- **Type:** `boolean`
- **Default:** `True`

```yaml title="telemetry.exporters.logging.stdout.enabled"
enabled: true
```


---

### `telemetry.exporters.logging.stdout.format`

- **Type:** `any`

```yaml title="telemetry.exporters.logging.stdout.format"
format:
  json:
    display_current_span: false
    display_filename: false
    display_level: true
    display_line_number: false
    display_resource: true
    display_span_id: true
    display_span_list: true
    display_target: true
    display_thread_id: false
    display_thread_name: false
    display_timestamp: true
    display_trace_id: hexadecimal
    span_attributes: []
```


---

### `telemetry.exporters.logging.stdout.rate_limit`

- **Type:** `object`

```yaml title="telemetry.exporters.logging.stdout.rate_limit"
rate_limit:
  capacity: 1
  enabled: false
  interval:
    nanos: 0
    secs: 1
```


---

### `telemetry.exporters.logging.stdout.tty_format`

- **Type:** `any`

```yaml title="telemetry.exporters.logging.stdout.tty_format"
tty_format:
  json:
    display_current_span: false
    display_filename: false
    display_level: true
    display_line_number: false
    display_resource: true
    display_span_id: true
    display_span_list: true
    display_target: true
    display_thread_id: false
    display_thread_name: false
    display_timestamp: true
    display_trace_id: hexadecimal
    span_attributes: []
```


---

### `telemetry.exporters.metrics`

Metrics configuration

- **Type:** `object`

```yaml title="telemetry.exporters.metrics"
metrics:
  common:
    buckets:
    - 0.001
    - 0.005
    - 0.015
    - 0.05
    - 0.1
    - 0.2
    - 0.3
    - 0.4
    - 0.5
    - 1.0
    - 5.0
    - 10.0
    resource: {}
    service_name: null
    service_namespace: null
    views:
    - aggregation:
        histogram:
          buckets:
          - 0.0
      allowed_attribute_keys:
      - example_allowed_attribute_keys_item
      description: example_description
      name: example_name
      unit: example_unit
  otlp:
    batch_processor:
      max_concurrent_exports: 1
      max_export_batch_size: 512
      max_export_timeout:
        nanos: 0
        secs: 30
      max_queue_size: 2048
      scheduled_delay:
        nanos: 0
        secs: 5
    enabled: false
    endpoint: example_endpoint
    grpc:
      ca: null
      cert: null
      domain_name: null
      key: null
      metadata: {}
    http:
      headers: {}
    protocol: grpc
    temporality: cumulative
  prometheus:
    enabled: false
    listen: example_listen
    path: /metrics
```


---

### `telemetry.exporters.metrics.common`

- **Type:** `object`

```yaml title="telemetry.exporters.metrics.common"
common:
  buckets:
  - 0.001
  - 0.005
  - 0.015
  - 0.05
  - 0.1
  - 0.2
  - 0.3
  - 0.4
  - 0.5
  - 1.0
  - 5.0
  - 10.0
  resource: {}
  service_name: null
  service_namespace: null
  views:
  - aggregation:
      histogram:
        buckets:
        - 0.0
    allowed_attribute_keys:
    - example_allowed_attribute_keys_item
    description: example_description
    name: example_name
    unit: example_unit
```


---

### `telemetry.exporters.metrics.common.buckets`

Custom buckets for all histograms

- **Type:** `array`
- **Default:** `[0.001, 0.005, 0.015, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 1.0, 5.0, 10.0]`

```yaml title="telemetry.exporters.metrics.common.buckets"
buckets:
- 0.001
- 0.005
- 0.015
- 0.05
- 0.1
- 0.2
- 0.3
- 0.4
- 0.5
- 1.0
- 5.0
- 10.0
```


---

### `telemetry.exporters.metrics.common.resource`

The Open Telemetry resource

- **Type:** `object`
- **Default:** `{}`

```yaml title="telemetry.exporters.metrics.common.resource"
resource: {}
```


---

### `telemetry.exporters.metrics.common.service_name`

Set a service.name resource in your metrics

- **Type:** `string`
- **Default:** `None`

```yaml title="telemetry.exporters.metrics.common.service_name"
service_name: null
```


---

### `telemetry.exporters.metrics.common.service_namespace`

Set a service.namespace attribute in your metrics

- **Type:** `string`
- **Default:** `None`

```yaml title="telemetry.exporters.metrics.common.service_namespace"
service_namespace: null
```


---

### `telemetry.exporters.metrics.common.views`

Views applied on metrics

- **Type:** `array`

```yaml title="telemetry.exporters.metrics.common.views"
views:
- aggregation:
    histogram:
      buckets:
      - 0.0
  allowed_attribute_keys:
  - example_allowed_attribute_keys_item
  description: example_description
  name: example_name
  unit: example_unit
```


---

### `telemetry.exporters.metrics.otlp`

- **Type:** `object`

```yaml title="telemetry.exporters.metrics.otlp"
otlp:
  batch_processor:
    max_concurrent_exports: 1
    max_export_batch_size: 512
    max_export_timeout:
      nanos: 0
      secs: 30
    max_queue_size: 2048
    scheduled_delay:
      nanos: 0
      secs: 5
  enabled: false
  endpoint: example_endpoint
  grpc:
    ca: null
    cert: null
    domain_name: null
    key: null
    metadata: {}
  http:
    headers: {}
  protocol: grpc
  temporality: cumulative
```


---

### `telemetry.exporters.metrics.otlp.batch_processor`

Batch processor configuration

- **Type:** `object`

```yaml title="telemetry.exporters.metrics.otlp.batch_processor"
batch_processor:
  max_concurrent_exports: 1
  max_export_batch_size: 512
  max_export_timeout:
    nanos: 0
    secs: 30
  max_queue_size: 2048
  scheduled_delay:
    nanos: 0
    secs: 5
```


---

### `telemetry.exporters.metrics.otlp.enabled`

Enable otlp

- **Type:** `boolean`

```yaml title="telemetry.exporters.metrics.otlp.enabled"
enabled: false
```


---

### `telemetry.exporters.metrics.otlp.endpoint`

- **Type:** `string`

```yaml title="telemetry.exporters.metrics.otlp.endpoint"
endpoint: example_endpoint
```


---

### `telemetry.exporters.metrics.otlp.grpc`

- **Type:** `object`

```yaml title="telemetry.exporters.metrics.otlp.grpc"
grpc:
  ca: null
  cert: null
  domain_name: null
  key: null
  metadata: {}
```


---

### `telemetry.exporters.metrics.otlp.http`

- **Type:** `object`

```yaml title="telemetry.exporters.metrics.otlp.http"
http:
  headers: {}
```


---

### `telemetry.exporters.metrics.otlp.protocol`

- **Type:** `string`
- **Enum:** `grpc`, `http`

```yaml title="telemetry.exporters.metrics.otlp.protocol"
protocol: grpc
```


---

### `telemetry.exporters.metrics.otlp.temporality`

- **Type:** `any`

```yaml title="telemetry.exporters.metrics.otlp.temporality"
temporality: cumulative
```


---

### `telemetry.exporters.metrics.prometheus`

Prometheus configuration

- **Type:** `object`

```yaml title="telemetry.exporters.metrics.prometheus"
prometheus:
  enabled: false
  listen: example_listen
  path: /metrics
```


---

### `telemetry.exporters.metrics.prometheus.enabled`

Set to true to enable

- **Type:** `boolean`
- **Default:** `False`

```yaml title="telemetry.exporters.metrics.prometheus.enabled"
enabled: false
```


---

### `telemetry.exporters.metrics.prometheus.listen`

Listening address.

- **Type:** `any`

```yaml title="telemetry.exporters.metrics.prometheus.listen"
listen: example_listen
```


---

### `telemetry.exporters.metrics.prometheus.path`

The path where prometheus will be exposed

- **Type:** `string`
- **Default:** `'/metrics'`

```yaml title="telemetry.exporters.metrics.prometheus.path"
path: /metrics
```


---

### `telemetry.exporters.tracing`

Tracing configuration

- **Type:** `object`

```yaml title="telemetry.exporters.tracing"
tracing:
  common:
    max_attributes_per_event: 128
    max_attributes_per_link: 128
    max_attributes_per_span: 128
    max_events_per_span: 128
    max_links_per_span: 128
    parent_based_sampler: true
    preview_datadog_agent_sampling: null
    resource: {}
    sampler: 0.0
    service_name: null
    service_namespace: null
  datadog:
    batch_processor:
      max_concurrent_exports: 1
      max_export_batch_size: 512
      max_export_timeout:
        nanos: 0
        secs: 30
      max_queue_size: 2048
      scheduled_delay:
        nanos: 0
        secs: 5
    enable_span_mapping: true
    enabled: false
    endpoint: example_endpoint
    fixed_span_names: true
    resource_mapping: {}
    span_metrics:
      connect: true
      connect_request: true
      execution: true
      http_request: true
      parse_query: true
      query_planning: true
      request: true
      router: true
      subgraph: true
      subgraph_request: true
      supergraph: true
  experimental_response_trace_id:
    enabled: false
    format: hexadecimal
    header_name: example_header_name
  otlp:
    batch_processor:
      max_concurrent_exports: 1
      max_export_batch_size: 512
      max_export_timeout:
        nanos: 0
        secs: 30
      max_queue_size: 2048
      scheduled_delay:
        nanos: 0
        secs: 5
    enabled: false
    endpoint: example_endpoint
    grpc:
      ca: null
      cert: null
      domain_name: null
      key: null
      metadata: {}
    http:
      headers: {}
    protocol: grpc
    temporality: cumulative
  propagation:
    aws_xray: false
    baggage: false
    datadog: false
    jaeger: false
    request:
      format: hexadecimal
      header_name: example_header_name
    trace_context: false
    zipkin: false
  zipkin:
    batch_processor:
      max_concurrent_exports: 1
      max_export_batch_size: 512
      max_export_timeout:
        nanos: 0
        secs: 30
      max_queue_size: 2048
      scheduled_delay:
        nanos: 0
        secs: 5
    enabled: false
    endpoint: example_endpoint
```


---

### `telemetry.exporters.tracing.common`

- **Type:** `object`

```yaml title="telemetry.exporters.tracing.common"
common:
  max_attributes_per_event: 128
  max_attributes_per_link: 128
  max_attributes_per_span: 128
  max_events_per_span: 128
  max_links_per_span: 128
  parent_based_sampler: true
  preview_datadog_agent_sampling: null
  resource: {}
  sampler: 0.0
  service_name: null
  service_namespace: null
```


---

### `telemetry.exporters.tracing.common.max_attributes_per_event`

The maximum attributes per event before discarding

- **Type:** `integer`
- **Default:** `128`
- **Minimum:** `0.0`

```yaml title="telemetry.exporters.tracing.common.max_attributes_per_event"
max_attributes_per_event: 128
```


---

### `telemetry.exporters.tracing.common.max_attributes_per_link`

The maximum attributes per link before discarding

- **Type:** `integer`
- **Default:** `128`
- **Minimum:** `0.0`

```yaml title="telemetry.exporters.tracing.common.max_attributes_per_link"
max_attributes_per_link: 128
```


---

### `telemetry.exporters.tracing.common.max_attributes_per_span`

The maximum attributes per span before discarding

- **Type:** `integer`
- **Default:** `128`
- **Minimum:** `0.0`

```yaml title="telemetry.exporters.tracing.common.max_attributes_per_span"
max_attributes_per_span: 128
```


---

### `telemetry.exporters.tracing.common.max_events_per_span`

The maximum events per span before discarding

- **Type:** `integer`
- **Default:** `128`
- **Minimum:** `0.0`

```yaml title="telemetry.exporters.tracing.common.max_events_per_span"
max_events_per_span: 128
```


---

### `telemetry.exporters.tracing.common.max_links_per_span`

The maximum links per span before discarding

- **Type:** `integer`
- **Default:** `128`
- **Minimum:** `0.0`

```yaml title="telemetry.exporters.tracing.common.max_links_per_span"
max_links_per_span: 128
```


---

### `telemetry.exporters.tracing.common.parent_based_sampler`

Whether to use parent based sampling

- **Type:** `boolean`
- **Default:** `True`

```yaml title="telemetry.exporters.tracing.common.parent_based_sampler"
parent_based_sampler: true
```


---

### `telemetry.exporters.tracing.common.preview_datadog_agent_sampling`

Use datadog agent sampling. This means that all spans will be sent to the Datadog agent and the `sampling.priority` attribute will be used to control if the span will then be sent to Datadog

- **Type:** `boolean`
- **Default:** `None`

```yaml title="telemetry.exporters.tracing.common.preview_datadog_agent_sampling"
preview_datadog_agent_sampling: null
```


---

### `telemetry.exporters.tracing.common.resource`

The Open Telemetry resource

- **Type:** `object`
- **Default:** `{}`

```yaml title="telemetry.exporters.tracing.common.resource"
resource: {}
```


---

### `telemetry.exporters.tracing.common.sampler`

- **Type:** `any`

```yaml title="telemetry.exporters.tracing.common.sampler"
sampler: 0.0
```


---

### `telemetry.exporters.tracing.common.service_name`

The trace service name

- **Type:** `string`
- **Default:** `None`

```yaml title="telemetry.exporters.tracing.common.service_name"
service_name: null
```


---

### `telemetry.exporters.tracing.common.service_namespace`

The trace service namespace

- **Type:** `string`
- **Default:** `None`

```yaml title="telemetry.exporters.tracing.common.service_namespace"
service_namespace: null
```


---

### `telemetry.exporters.tracing.datadog`

- **Type:** `object`

```yaml title="telemetry.exporters.tracing.datadog"
datadog:
  batch_processor:
    max_concurrent_exports: 1
    max_export_batch_size: 512
    max_export_timeout:
      nanos: 0
      secs: 30
    max_queue_size: 2048
    scheduled_delay:
      nanos: 0
      secs: 5
  enable_span_mapping: true
  enabled: false
  endpoint: example_endpoint
  fixed_span_names: true
  resource_mapping: {}
  span_metrics:
    connect: true
    connect_request: true
    execution: true
    http_request: true
    parse_query: true
    query_planning: true
    request: true
    router: true
    subgraph: true
    subgraph_request: true
    supergraph: true
```


---

### `telemetry.exporters.tracing.datadog.batch_processor`

Batch processor configuration

- **Type:** `object`

```yaml title="telemetry.exporters.tracing.datadog.batch_processor"
batch_processor:
  max_concurrent_exports: 1
  max_export_batch_size: 512
  max_export_timeout:
    nanos: 0
    secs: 30
  max_queue_size: 2048
  scheduled_delay:
    nanos: 0
    secs: 5
```


---

### `telemetry.exporters.tracing.datadog.enable_span_mapping`

Enable datadog span mapping for span name and resource name.

- **Type:** `boolean`
- **Default:** `True`

```yaml title="telemetry.exporters.tracing.datadog.enable_span_mapping"
enable_span_mapping: true
```


---

### `telemetry.exporters.tracing.datadog.enabled`

Enable datadog

- **Type:** `boolean`

```yaml title="telemetry.exporters.tracing.datadog.enabled"
enabled: false
```


---

### `telemetry.exporters.tracing.datadog.endpoint`

- **Type:** `string`

```yaml title="telemetry.exporters.tracing.datadog.endpoint"
endpoint: example_endpoint
```


---

### `telemetry.exporters.tracing.datadog.fixed_span_names`

Fixes the span names, this means that the APM view will show the original span names in the operation dropdown.

- **Type:** `boolean`
- **Default:** `True`

```yaml title="telemetry.exporters.tracing.datadog.fixed_span_names"
fixed_span_names: true
```


---

### `telemetry.exporters.tracing.datadog.resource_mapping`

Custom mapping to be used as the resource field in spans, defaults to: router -> http.route supergraph -> graphql.operation.name query_planning -> graphql.operation.name subgraph -> subgraph.name subgraph_request -> subgraph.name http_request -> http.route

- **Type:** `object`
- **Default:** `{}`

```yaml title="telemetry.exporters.tracing.datadog.resource_mapping"
resource_mapping: {}
```


---

### `telemetry.exporters.tracing.datadog.span_metrics`

Which spans will be eligible for span stats to be collected for viewing in the APM view. Defaults to true for `request`, `router`, `query_parsing`, `supergraph`, `execution`, `query_planning`, `subgraph`, `subgraph_request`, `connect`, `connect_request` and `http_request`.

- **Type:** `object`
- **Default:** `{"parse_query": true, "connect": true, "execution": true, "http_request": true, "request": true, "query_planning": true, "connect_request": true, "subgraph": true, "router": true, "supergraph": true, "subgraph_request": true}`

```yaml title="telemetry.exporters.tracing.datadog.span_metrics"
span_metrics:
  connect: true
  connect_request: true
  execution: true
  http_request: true
  parse_query: true
  query_planning: true
  request: true
  router: true
  subgraph: true
  subgraph_request: true
  supergraph: true
```


---

### `telemetry.exporters.tracing.experimental_response_trace_id`

- **Type:** `object`

```yaml title="telemetry.exporters.tracing.experimental_response_trace_id"
experimental_response_trace_id:
  enabled: false
  format: hexadecimal
  header_name: example_header_name
```


---

### `telemetry.exporters.tracing.experimental_response_trace_id.enabled`

Expose the trace_id in response headers

- **Type:** `boolean`
- **Default:** `False`

```yaml title="telemetry.exporters.tracing.experimental_response_trace_id.enabled"
enabled: false
```


---

### `telemetry.exporters.tracing.experimental_response_trace_id.format`

- **Type:** `any`

```yaml title="telemetry.exporters.tracing.experimental_response_trace_id.format"
format: hexadecimal
```


---

### `telemetry.exporters.tracing.experimental_response_trace_id.header_name`

Choose the header name to expose trace_id (default: apollo-trace-id)

- **Type:** `string`

```yaml title="telemetry.exporters.tracing.experimental_response_trace_id.header_name"
header_name: example_header_name
```


---

### `telemetry.exporters.tracing.otlp`

- **Type:** `object`

```yaml title="telemetry.exporters.tracing.otlp"
otlp:
  batch_processor:
    max_concurrent_exports: 1
    max_export_batch_size: 512
    max_export_timeout:
      nanos: 0
      secs: 30
    max_queue_size: 2048
    scheduled_delay:
      nanos: 0
      secs: 5
  enabled: false
  endpoint: example_endpoint
  grpc:
    ca: null
    cert: null
    domain_name: null
    key: null
    metadata: {}
  http:
    headers: {}
  protocol: grpc
  temporality: cumulative
```


---

### `telemetry.exporters.tracing.otlp.batch_processor`

Batch processor configuration

- **Type:** `object`

```yaml title="telemetry.exporters.tracing.otlp.batch_processor"
batch_processor:
  max_concurrent_exports: 1
  max_export_batch_size: 512
  max_export_timeout:
    nanos: 0
    secs: 30
  max_queue_size: 2048
  scheduled_delay:
    nanos: 0
    secs: 5
```


---

### `telemetry.exporters.tracing.otlp.enabled`

Enable otlp

- **Type:** `boolean`

```yaml title="telemetry.exporters.tracing.otlp.enabled"
enabled: false
```


---

### `telemetry.exporters.tracing.otlp.endpoint`

- **Type:** `string`

```yaml title="telemetry.exporters.tracing.otlp.endpoint"
endpoint: example_endpoint
```


---

### `telemetry.exporters.tracing.otlp.grpc`

- **Type:** `object`

```yaml title="telemetry.exporters.tracing.otlp.grpc"
grpc:
  ca: null
  cert: null
  domain_name: null
  key: null
  metadata: {}
```


---

### `telemetry.exporters.tracing.otlp.http`

- **Type:** `object`

```yaml title="telemetry.exporters.tracing.otlp.http"
http:
  headers: {}
```


---

### `telemetry.exporters.tracing.otlp.protocol`

- **Type:** `string`
- **Enum:** `grpc`, `http`

```yaml title="telemetry.exporters.tracing.otlp.protocol"
protocol: grpc
```


---

### `telemetry.exporters.tracing.otlp.temporality`

- **Type:** `any`

```yaml title="telemetry.exporters.tracing.otlp.temporality"
temporality: cumulative
```


---

### `telemetry.exporters.tracing.propagation`

Configure propagation of traces. In general you won't have to do this as these are automatically configured along with any exporter you configure.

- **Type:** `object`

```yaml title="telemetry.exporters.tracing.propagation"
propagation:
  aws_xray: false
  baggage: false
  datadog: false
  jaeger: false
  request:
    format: hexadecimal
    header_name: example_header_name
  trace_context: false
  zipkin: false
```


---

### `telemetry.exporters.tracing.propagation.aws_xray`

Propagate AWS X-Ray

- **Type:** `boolean`
- **Default:** `False`

```yaml title="telemetry.exporters.tracing.propagation.aws_xray"
aws_xray: false
```


---

### `telemetry.exporters.tracing.propagation.baggage`

Propagate baggage https://www.w3.org/TR/baggage/

- **Type:** `boolean`
- **Default:** `False`

```yaml title="telemetry.exporters.tracing.propagation.baggage"
baggage: false
```


---

### `telemetry.exporters.tracing.propagation.datadog`

Propagate Datadog

- **Type:** `boolean`
- **Default:** `False`

```yaml title="telemetry.exporters.tracing.propagation.datadog"
datadog: false
```


---

### `telemetry.exporters.tracing.propagation.jaeger`

Propagate Jaeger

- **Type:** `boolean`
- **Default:** `False`

```yaml title="telemetry.exporters.tracing.propagation.jaeger"
jaeger: false
```


---

### `telemetry.exporters.tracing.propagation.request`

- **Type:** `object`

```yaml title="telemetry.exporters.tracing.propagation.request"
request:
  format: hexadecimal
  header_name: example_header_name
```


---

### `telemetry.exporters.tracing.propagation.trace_context`

Propagate trace context https://www.w3.org/TR/trace-context/

- **Type:** `boolean`
- **Default:** `False`

```yaml title="telemetry.exporters.tracing.propagation.trace_context"
trace_context: false
```


---

### `telemetry.exporters.tracing.propagation.zipkin`

Propagate Zipkin

- **Type:** `boolean`
- **Default:** `False`

```yaml title="telemetry.exporters.tracing.propagation.zipkin"
zipkin: false
```


---

### `telemetry.exporters.tracing.zipkin`

- **Type:** `object`

```yaml title="telemetry.exporters.tracing.zipkin"
zipkin:
  batch_processor:
    max_concurrent_exports: 1
    max_export_batch_size: 512
    max_export_timeout:
      nanos: 0
      secs: 30
    max_queue_size: 2048
    scheduled_delay:
      nanos: 0
      secs: 5
  enabled: false
  endpoint: example_endpoint
```


---

### `telemetry.exporters.tracing.zipkin.batch_processor`

Batch processor configuration

- **Type:** `object`

```yaml title="telemetry.exporters.tracing.zipkin.batch_processor"
batch_processor:
  max_concurrent_exports: 1
  max_export_batch_size: 512
  max_export_timeout:
    nanos: 0
    secs: 30
  max_queue_size: 2048
  scheduled_delay:
    nanos: 0
    secs: 5
```


---

### `telemetry.exporters.tracing.zipkin.enabled`

Enable zipkin

- **Type:** `boolean`

```yaml title="telemetry.exporters.tracing.zipkin.enabled"
enabled: false
```


---

### `telemetry.exporters.tracing.zipkin.endpoint`

- **Type:** `string`

```yaml title="telemetry.exporters.tracing.zipkin.endpoint"
endpoint: example_endpoint
```


---

### `telemetry.instrumentation`

Instrumentation configuration

- **Type:** `object`

```yaml title="telemetry.instrumentation"
instrumentation:
  events:
    connector:
      error:
        condition:
          eq:
          - false
          - false
        level: info
      request:
        condition:
          eq:
          - false
          - false
        level: info
      response:
        condition:
          eq:
          - false
          - false
        level: info
    router:
      error:
        condition:
          eq:
          - false
          - false
        level: info
      request:
        condition:
          eq:
          - false
          - false
        level: info
      response:
        condition:
          eq:
          - false
          - false
        level: info
    subgraph:
      error:
        condition:
          eq:
          - false
          - false
        level: info
      request:
        condition:
          eq:
          - false
          - false
        level: info
      response:
        condition:
          eq:
          - false
          - false
        level: info
    supergraph:
      error:
        condition:
          eq:
          - false
          - false
        level: info
      request:
        condition:
          eq:
          - false
          - false
        level: info
      response:
        condition:
          eq:
          - false
          - false
        level: info
  instruments:
    cache:
      apollo.router.operations.entity.cache:
        attributes:
          graphql.type.name:
            alias: example_alias
    connector:
      http.client.request.body.size:
        attributes:
          connector.http.method:
            alias: example_alias
          connector.source.name:
            alias: example_alias
          connector.url.template:
            alias: example_alias
          subgraph.name:
            alias: example_alias
      http.client.request.duration:
        attributes:
          connector.http.method:
            alias: example_alias
          connector.source.name:
            alias: example_alias
          connector.url.template:
            alias: example_alias
          subgraph.name:
            alias: example_alias
      http.client.response.body.size:
        attributes:
          connector.http.method:
            alias: example_alias
          connector.source.name:
            alias: example_alias
          connector.url.template:
            alias: example_alias
          subgraph.name:
            alias: example_alias
    default_requirement_level: none
    graphql:
      field.execution:
        attributes:
          graphql.field.name:
            alias: example_alias
          graphql.field.type:
            alias: example_alias
          graphql.list.length:
            alias: example_alias
          graphql.operation.name:
            alias: example_alias
          graphql.type.name:
            alias: example_alias
      list.length:
        attributes:
          graphql.field.name:
            alias: example_alias
          graphql.field.type:
            alias: example_alias
          graphql.list.length:
            alias: example_alias
          graphql.operation.name:
            alias: example_alias
          graphql.type.name:
            alias: example_alias
    router:
      http.server.active_requests:
        attributes:
          http.request.method: false
          server.address: false
          server.port: false
          url.scheme: false
      http.server.request.body.size:
        attributes:
          baggage: null
          dd.trace_id:
            alias: example_alias
          error.type:
            alias: example_alias
          http.request.body.size:
            alias: example_alias
          http.request.method:
            alias: example_alias
          http.response.body.size:
            alias: example_alias
          http.response.status_code:
            alias: example_alias
          http.route:
            alias: example_alias
          network.local.address:
            alias: example_alias
          network.local.port:
            alias: example_alias
          network.peer.address:
            alias: example_alias
          network.peer.port:
            alias: example_alias
          network.protocol.name:
            alias: example_alias
          network.protocol.version:
            alias: example_alias
          network.transport:
            alias: example_alias
          network.type:
            alias: example_alias
          server.address:
            alias: example_alias
          server.port:
            alias: example_alias
          trace_id:
            alias: example_alias
          url.path:
            alias: example_alias
          url.query:
            alias: example_alias
          url.scheme:
            alias: example_alias
          user_agent.original:
            alias: example_alias
      http.server.request.duration:
        attributes:
          baggage: null
          dd.trace_id:
            alias: example_alias
          error.type:
            alias: example_alias
          http.request.body.size:
            alias: example_alias
          http.request.method:
            alias: example_alias
          http.response.body.size:
            alias: example_alias
          http.response.status_code:
            alias: example_alias
          http.route:
            alias: example_alias
          network.local.address:
            alias: example_alias
          network.local.port:
            alias: example_alias
          network.peer.address:
            alias: example_alias
          network.peer.port:
            alias: example_alias
          network.protocol.name:
            alias: example_alias
          network.protocol.version:
            alias: example_alias
          network.transport:
            alias: example_alias
          network.type:
            alias: example_alias
          server.address:
            alias: example_alias
          server.port:
            alias: example_alias
          trace_id:
            alias: example_alias
          url.path:
            alias: example_alias
          url.query:
            alias: example_alias
          url.scheme:
            alias: example_alias
          user_agent.original:
            alias: example_alias
      http.server.response.body.size:
        attributes:
          baggage: null
          dd.trace_id:
            alias: example_alias
          error.type:
            alias: example_alias
          http.request.body.size:
            alias: example_alias
          http.request.method:
            alias: example_alias
          http.response.body.size:
            alias: example_alias
          http.response.status_code:
            alias: example_alias
          http.route:
            alias: example_alias
          network.local.address:
            alias: example_alias
          network.local.port:
            alias: example_alias
          network.peer.address:
            alias: example_alias
          network.peer.port:
            alias: example_alias
          network.protocol.name:
            alias: example_alias
          network.protocol.version:
            alias: example_alias
          network.transport:
            alias: example_alias
          network.type:
            alias: example_alias
          server.address:
            alias: example_alias
          server.port:
            alias: example_alias
          trace_id:
            alias: example_alias
          url.path:
            alias: example_alias
          url.query:
            alias: example_alias
          url.scheme:
            alias: example_alias
          user_agent.original:
            alias: example_alias
    subgraph:
      http.client.request.body.size:
        attributes:
          http.request.resend_count:
            alias: example_alias
          subgraph.graphql.document:
            alias: example_alias
          subgraph.graphql.operation.name:
            alias: example_alias
          subgraph.graphql.operation.type:
            alias: example_alias
          subgraph.name:
            alias: example_alias
      http.client.request.duration:
        attributes:
          http.request.resend_count:
            alias: example_alias
          subgraph.graphql.document:
            alias: example_alias
          subgraph.graphql.operation.name:
            alias: example_alias
          subgraph.graphql.operation.type:
            alias: example_alias
          subgraph.name:
            alias: example_alias
      http.client.response.body.size:
        attributes:
          http.request.resend_count:
            alias: example_alias
          subgraph.graphql.document:
            alias: example_alias
          subgraph.graphql.operation.name:
            alias: example_alias
          subgraph.graphql.operation.type:
            alias: example_alias
          subgraph.name:
            alias: example_alias
    supergraph:
      cost.actual:
        attributes:
          cost.actual:
            alias: example_alias
          cost.delta:
            alias: example_alias
          cost.estimated:
            alias: example_alias
          cost.result:
            alias: example_alias
          graphql.document:
            alias: example_alias
          graphql.operation.name:
            alias: example_alias
          graphql.operation.type:
            alias: example_alias
      cost.delta:
        attributes:
          cost.actual:
            alias: example_alias
          cost.delta:
            alias: example_alias
          cost.estimated:
            alias: example_alias
          cost.result:
            alias: example_alias
          graphql.document:
            alias: example_alias
          graphql.operation.name:
            alias: example_alias
          graphql.operation.type:
            alias: example_alias
      cost.estimated:
        attributes:
          cost.actual:
            alias: example_alias
          cost.delta:
            alias: example_alias
          cost.estimated:
            alias: example_alias
          cost.result:
            alias: example_alias
          graphql.document:
            alias: example_alias
          graphql.operation.name:
            alias: example_alias
          graphql.operation.type:
            alias: example_alias
  spans:
    connector:
      attributes:
        connector.http.method:
          alias: example_alias
        connector.source.name:
          alias: example_alias
        connector.url.template:
          alias: example_alias
        subgraph.name:
          alias: example_alias
    default_attribute_requirement_level: none
    mode: deprecated
    router:
      attributes:
        baggage: null
        dd.trace_id:
          alias: example_alias
        error.type:
          alias: example_alias
        http.request.body.size:
          alias: example_alias
        http.request.method:
          alias: example_alias
        http.response.body.size:
          alias: example_alias
        http.response.status_code:
          alias: example_alias
        http.route:
          alias: example_alias
        network.local.address:
          alias: example_alias
        network.local.port:
          alias: example_alias
        network.peer.address:
          alias: example_alias
        network.peer.port:
          alias: example_alias
        network.protocol.name:
          alias: example_alias
        network.protocol.version:
          alias: example_alias
        network.transport:
          alias: example_alias
        network.type:
          alias: example_alias
        server.address:
          alias: example_alias
        server.port:
          alias: example_alias
        trace_id:
          alias: example_alias
        url.path:
          alias: example_alias
        url.query:
          alias: example_alias
        url.scheme:
          alias: example_alias
        user_agent.original:
          alias: example_alias
    subgraph:
      attributes:
        http.request.resend_count:
          alias: example_alias
        subgraph.graphql.document:
          alias: example_alias
        subgraph.graphql.operation.name:
          alias: example_alias
        subgraph.graphql.operation.type:
          alias: example_alias
        subgraph.name:
          alias: example_alias
    supergraph:
      attributes:
        cost.actual:
          alias: example_alias
        cost.delta:
          alias: example_alias
        cost.estimated:
          alias: example_alias
        cost.result:
          alias: example_alias
        graphql.document:
          alias: example_alias
        graphql.operation.name:
          alias: example_alias
        graphql.operation.type:
          alias: example_alias
```


---

### `telemetry.instrumentation.events`

Events are

- **Type:** `object`

```yaml title="telemetry.instrumentation.events"
events:
  connector:
    error:
      condition:
        eq:
        - false
        - false
      level: info
    request:
      condition:
        eq:
        - false
        - false
      level: info
    response:
      condition:
        eq:
        - false
        - false
      level: info
  router:
    error:
      condition:
        eq:
        - false
        - false
      level: info
    request:
      condition:
        eq:
        - false
        - false
      level: info
    response:
      condition:
        eq:
        - false
        - false
      level: info
  subgraph:
    error:
      condition:
        eq:
        - false
        - false
      level: info
    request:
      condition:
        eq:
        - false
        - false
      level: info
    response:
      condition:
        eq:
        - false
        - false
      level: info
  supergraph:
    error:
      condition:
        eq:
        - false
        - false
      level: info
    request:
      condition:
        eq:
        - false
        - false
      level: info
    response:
      condition:
        eq:
        - false
        - false
      level: info
```


---

### `telemetry.instrumentation.events.connector`

- **Type:** `object`

```yaml title="telemetry.instrumentation.events.connector"
connector:
  error:
    condition:
      eq:
      - false
      - false
    level: info
  request:
    condition:
      eq:
      - false
      - false
    level: info
  response:
    condition:
      eq:
      - false
      - false
    level: info
```


---

### `telemetry.instrumentation.events.connector.error`

- **Type:** `any`

```yaml title="telemetry.instrumentation.events.connector.error"
error:
  condition:
    eq:
    - false
    - false
  level: info
```


---

### `telemetry.instrumentation.events.connector.request`

- **Type:** `any`

```yaml title="telemetry.instrumentation.events.connector.request"
request:
  condition:
    eq:
    - false
    - false
  level: info
```


---

### `telemetry.instrumentation.events.connector.response`

- **Type:** `any`

```yaml title="telemetry.instrumentation.events.connector.response"
response:
  condition:
    eq:
    - false
    - false
  level: info
```


---

### `telemetry.instrumentation.events.router`

- **Type:** `object`

```yaml title="telemetry.instrumentation.events.router"
router:
  error:
    condition:
      eq:
      - false
      - false
    level: info
  request:
    condition:
      eq:
      - false
      - false
    level: info
  response:
    condition:
      eq:
      - false
      - false
    level: info
```


---

### `telemetry.instrumentation.events.router.error`

- **Type:** `any`

```yaml title="telemetry.instrumentation.events.router.error"
error:
  condition:
    eq:
    - false
    - false
  level: info
```


---

### `telemetry.instrumentation.events.router.request`

- **Type:** `any`

```yaml title="telemetry.instrumentation.events.router.request"
request:
  condition:
    eq:
    - false
    - false
  level: info
```


---

### `telemetry.instrumentation.events.router.response`

- **Type:** `any`

```yaml title="telemetry.instrumentation.events.router.response"
response:
  condition:
    eq:
    - false
    - false
  level: info
```


---

### `telemetry.instrumentation.events.subgraph`

- **Type:** `object`

```yaml title="telemetry.instrumentation.events.subgraph"
subgraph:
  error:
    condition:
      eq:
      - false
      - false
    level: info
  request:
    condition:
      eq:
      - false
      - false
    level: info
  response:
    condition:
      eq:
      - false
      - false
    level: info
```


---

### `telemetry.instrumentation.events.subgraph.error`

- **Type:** `any`

```yaml title="telemetry.instrumentation.events.subgraph.error"
error:
  condition:
    eq:
    - false
    - false
  level: info
```


---

### `telemetry.instrumentation.events.subgraph.request`

- **Type:** `any`

```yaml title="telemetry.instrumentation.events.subgraph.request"
request:
  condition:
    eq:
    - false
    - false
  level: info
```


---

### `telemetry.instrumentation.events.subgraph.response`

- **Type:** `any`

```yaml title="telemetry.instrumentation.events.subgraph.response"
response:
  condition:
    eq:
    - false
    - false
  level: info
```


---

### `telemetry.instrumentation.events.supergraph`

- **Type:** `object`

```yaml title="telemetry.instrumentation.events.supergraph"
supergraph:
  error:
    condition:
      eq:
      - false
      - false
    level: info
  request:
    condition:
      eq:
      - false
      - false
    level: info
  response:
    condition:
      eq:
      - false
      - false
    level: info
```


---

### `telemetry.instrumentation.events.supergraph.error`

- **Type:** `any`

```yaml title="telemetry.instrumentation.events.supergraph.error"
error:
  condition:
    eq:
    - false
    - false
  level: info
```


---

### `telemetry.instrumentation.events.supergraph.request`

- **Type:** `any`

```yaml title="telemetry.instrumentation.events.supergraph.request"
request:
  condition:
    eq:
    - false
    - false
  level: info
```


---

### `telemetry.instrumentation.events.supergraph.response`

- **Type:** `any`

```yaml title="telemetry.instrumentation.events.supergraph.response"
response:
  condition:
    eq:
    - false
    - false
  level: info
```


---

### `telemetry.instrumentation.instruments`

- **Type:** `object`

```yaml title="telemetry.instrumentation.instruments"
instruments:
  cache:
    apollo.router.operations.entity.cache:
      attributes:
        graphql.type.name:
          alias: example_alias
  connector:
    http.client.request.body.size:
      attributes:
        connector.http.method:
          alias: example_alias
        connector.source.name:
          alias: example_alias
        connector.url.template:
          alias: example_alias
        subgraph.name:
          alias: example_alias
    http.client.request.duration:
      attributes:
        connector.http.method:
          alias: example_alias
        connector.source.name:
          alias: example_alias
        connector.url.template:
          alias: example_alias
        subgraph.name:
          alias: example_alias
    http.client.response.body.size:
      attributes:
        connector.http.method:
          alias: example_alias
        connector.source.name:
          alias: example_alias
        connector.url.template:
          alias: example_alias
        subgraph.name:
          alias: example_alias
  default_requirement_level: none
  graphql:
    field.execution:
      attributes:
        graphql.field.name:
          alias: example_alias
        graphql.field.type:
          alias: example_alias
        graphql.list.length:
          alias: example_alias
        graphql.operation.name:
          alias: example_alias
        graphql.type.name:
          alias: example_alias
    list.length:
      attributes:
        graphql.field.name:
          alias: example_alias
        graphql.field.type:
          alias: example_alias
        graphql.list.length:
          alias: example_alias
        graphql.operation.name:
          alias: example_alias
        graphql.type.name:
          alias: example_alias
  router:
    http.server.active_requests:
      attributes:
        http.request.method: false
        server.address: false
        server.port: false
        url.scheme: false
    http.server.request.body.size:
      attributes:
        baggage: null
        dd.trace_id:
          alias: example_alias
        error.type:
          alias: example_alias
        http.request.body.size:
          alias: example_alias
        http.request.method:
          alias: example_alias
        http.response.body.size:
          alias: example_alias
        http.response.status_code:
          alias: example_alias
        http.route:
          alias: example_alias
        network.local.address:
          alias: example_alias
        network.local.port:
          alias: example_alias
        network.peer.address:
          alias: example_alias
        network.peer.port:
          alias: example_alias
        network.protocol.name:
          alias: example_alias
        network.protocol.version:
          alias: example_alias
        network.transport:
          alias: example_alias
        network.type:
          alias: example_alias
        server.address:
          alias: example_alias
        server.port:
          alias: example_alias
        trace_id:
          alias: example_alias
        url.path:
          alias: example_alias
        url.query:
          alias: example_alias
        url.scheme:
          alias: example_alias
        user_agent.original:
          alias: example_alias
    http.server.request.duration:
      attributes:
        baggage: null
        dd.trace_id:
          alias: example_alias
        error.type:
          alias: example_alias
        http.request.body.size:
          alias: example_alias
        http.request.method:
          alias: example_alias
        http.response.body.size:
          alias: example_alias
        http.response.status_code:
          alias: example_alias
        http.route:
          alias: example_alias
        network.local.address:
          alias: example_alias
        network.local.port:
          alias: example_alias
        network.peer.address:
          alias: example_alias
        network.peer.port:
          alias: example_alias
        network.protocol.name:
          alias: example_alias
        network.protocol.version:
          alias: example_alias
        network.transport:
          alias: example_alias
        network.type:
          alias: example_alias
        server.address:
          alias: example_alias
        server.port:
          alias: example_alias
        trace_id:
          alias: example_alias
        url.path:
          alias: example_alias
        url.query:
          alias: example_alias
        url.scheme:
          alias: example_alias
        user_agent.original:
          alias: example_alias
    http.server.response.body.size:
      attributes:
        baggage: null
        dd.trace_id:
          alias: example_alias
        error.type:
          alias: example_alias
        http.request.body.size:
          alias: example_alias
        http.request.method:
          alias: example_alias
        http.response.body.size:
          alias: example_alias
        http.response.status_code:
          alias: example_alias
        http.route:
          alias: example_alias
        network.local.address:
          alias: example_alias
        network.local.port:
          alias: example_alias
        network.peer.address:
          alias: example_alias
        network.peer.port:
          alias: example_alias
        network.protocol.name:
          alias: example_alias
        network.protocol.version:
          alias: example_alias
        network.transport:
          alias: example_alias
        network.type:
          alias: example_alias
        server.address:
          alias: example_alias
        server.port:
          alias: example_alias
        trace_id:
          alias: example_alias
        url.path:
          alias: example_alias
        url.query:
          alias: example_alias
        url.scheme:
          alias: example_alias
        user_agent.original:
          alias: example_alias
  subgraph:
    http.client.request.body.size:
      attributes:
        http.request.resend_count:
          alias: example_alias
        subgraph.graphql.document:
          alias: example_alias
        subgraph.graphql.operation.name:
          alias: example_alias
        subgraph.graphql.operation.type:
          alias: example_alias
        subgraph.name:
          alias: example_alias
    http.client.request.duration:
      attributes:
        http.request.resend_count:
          alias: example_alias
        subgraph.graphql.document:
          alias: example_alias
        subgraph.graphql.operation.name:
          alias: example_alias
        subgraph.graphql.operation.type:
          alias: example_alias
        subgraph.name:
          alias: example_alias
    http.client.response.body.size:
      attributes:
        http.request.resend_count:
          alias: example_alias
        subgraph.graphql.document:
          alias: example_alias
        subgraph.graphql.operation.name:
          alias: example_alias
        subgraph.graphql.operation.type:
          alias: example_alias
        subgraph.name:
          alias: example_alias
  supergraph:
    cost.actual:
      attributes:
        cost.actual:
          alias: example_alias
        cost.delta:
          alias: example_alias
        cost.estimated:
          alias: example_alias
        cost.result:
          alias: example_alias
        graphql.document:
          alias: example_alias
        graphql.operation.name:
          alias: example_alias
        graphql.operation.type:
          alias: example_alias
    cost.delta:
      attributes:
        cost.actual:
          alias: example_alias
        cost.delta:
          alias: example_alias
        cost.estimated:
          alias: example_alias
        cost.result:
          alias: example_alias
        graphql.document:
          alias: example_alias
        graphql.operation.name:
          alias: example_alias
        graphql.operation.type:
          alias: example_alias
    cost.estimated:
      attributes:
        cost.actual:
          alias: example_alias
        cost.delta:
          alias: example_alias
        cost.estimated:
          alias: example_alias
        cost.result:
          alias: example_alias
        graphql.document:
          alias: example_alias
        graphql.operation.name:
          alias: example_alias
        graphql.operation.type:
          alias: example_alias
```


---

### `telemetry.instrumentation.instruments.cache`

- **Type:** `object`

```yaml title="telemetry.instrumentation.instruments.cache"
cache:
  apollo.router.operations.entity.cache:
    attributes:
      graphql.type.name:
        alias: example_alias
```


---

### `telemetry.instrumentation.instruments.cache.apollo.router.operations.entity.cache`

- **Type:** `any`

```yaml title="telemetry.instrumentation.instruments.cache.apollo.router.operations.entity.cache"
# Value not generated in example data
```


---

### `telemetry.instrumentation.instruments.connector`

- **Type:** `object`

```yaml title="telemetry.instrumentation.instruments.connector"
connector:
  http.client.request.body.size:
    attributes:
      connector.http.method:
        alias: example_alias
      connector.source.name:
        alias: example_alias
      connector.url.template:
        alias: example_alias
      subgraph.name:
        alias: example_alias
  http.client.request.duration:
    attributes:
      connector.http.method:
        alias: example_alias
      connector.source.name:
        alias: example_alias
      connector.url.template:
        alias: example_alias
      subgraph.name:
        alias: example_alias
  http.client.response.body.size:
    attributes:
      connector.http.method:
        alias: example_alias
      connector.source.name:
        alias: example_alias
      connector.url.template:
        alias: example_alias
      subgraph.name:
        alias: example_alias
```


---

### `telemetry.instrumentation.instruments.connector.http.client.request.body.size`

- **Type:** `any`

```yaml title="telemetry.instrumentation.instruments.connector.http.client.request.body.size"
# Value not generated in example data
```


---

### `telemetry.instrumentation.instruments.connector.http.client.request.duration`

- **Type:** `any`

```yaml title="telemetry.instrumentation.instruments.connector.http.client.request.duration"
# Value not generated in example data
```


---

### `telemetry.instrumentation.instruments.connector.http.client.response.body.size`

- **Type:** `any`

```yaml title="telemetry.instrumentation.instruments.connector.http.client.response.body.size"
# Value not generated in example data
```


---

### `telemetry.instrumentation.instruments.default_requirement_level`

- **Type:** `any`

```yaml title="telemetry.instrumentation.instruments.default_requirement_level"
default_requirement_level: none
```


---

### `telemetry.instrumentation.instruments.graphql`

- **Type:** `object`

```yaml title="telemetry.instrumentation.instruments.graphql"
graphql:
  field.execution:
    attributes:
      graphql.field.name:
        alias: example_alias
      graphql.field.type:
        alias: example_alias
      graphql.list.length:
        alias: example_alias
      graphql.operation.name:
        alias: example_alias
      graphql.type.name:
        alias: example_alias
  list.length:
    attributes:
      graphql.field.name:
        alias: example_alias
      graphql.field.type:
        alias: example_alias
      graphql.list.length:
        alias: example_alias
      graphql.operation.name:
        alias: example_alias
      graphql.type.name:
        alias: example_alias
```


---

### `telemetry.instrumentation.instruments.graphql.field.execution`

- **Type:** `any`

```yaml title="telemetry.instrumentation.instruments.graphql.field.execution"
# Value not generated in example data
```


---

### `telemetry.instrumentation.instruments.graphql.list.length`

- **Type:** `any`

```yaml title="telemetry.instrumentation.instruments.graphql.list.length"
# Value not generated in example data
```


---

### `telemetry.instrumentation.instruments.router`

- **Type:** `object`

```yaml title="telemetry.instrumentation.instruments.router"
router:
  http.server.active_requests:
    attributes:
      http.request.method: false
      server.address: false
      server.port: false
      url.scheme: false
  http.server.request.body.size:
    attributes:
      baggage: null
      dd.trace_id:
        alias: example_alias
      error.type:
        alias: example_alias
      http.request.body.size:
        alias: example_alias
      http.request.method:
        alias: example_alias
      http.response.body.size:
        alias: example_alias
      http.response.status_code:
        alias: example_alias
      http.route:
        alias: example_alias
      network.local.address:
        alias: example_alias
      network.local.port:
        alias: example_alias
      network.peer.address:
        alias: example_alias
      network.peer.port:
        alias: example_alias
      network.protocol.name:
        alias: example_alias
      network.protocol.version:
        alias: example_alias
      network.transport:
        alias: example_alias
      network.type:
        alias: example_alias
      server.address:
        alias: example_alias
      server.port:
        alias: example_alias
      trace_id:
        alias: example_alias
      url.path:
        alias: example_alias
      url.query:
        alias: example_alias
      url.scheme:
        alias: example_alias
      user_agent.original:
        alias: example_alias
  http.server.request.duration:
    attributes:
      baggage: null
      dd.trace_id:
        alias: example_alias
      error.type:
        alias: example_alias
      http.request.body.size:
        alias: example_alias
      http.request.method:
        alias: example_alias
      http.response.body.size:
        alias: example_alias
      http.response.status_code:
        alias: example_alias
      http.route:
        alias: example_alias
      network.local.address:
        alias: example_alias
      network.local.port:
        alias: example_alias
      network.peer.address:
        alias: example_alias
      network.peer.port:
        alias: example_alias
      network.protocol.name:
        alias: example_alias
      network.protocol.version:
        alias: example_alias
      network.transport:
        alias: example_alias
      network.type:
        alias: example_alias
      server.address:
        alias: example_alias
      server.port:
        alias: example_alias
      trace_id:
        alias: example_alias
      url.path:
        alias: example_alias
      url.query:
        alias: example_alias
      url.scheme:
        alias: example_alias
      user_agent.original:
        alias: example_alias
  http.server.response.body.size:
    attributes:
      baggage: null
      dd.trace_id:
        alias: example_alias
      error.type:
        alias: example_alias
      http.request.body.size:
        alias: example_alias
      http.request.method:
        alias: example_alias
      http.response.body.size:
        alias: example_alias
      http.response.status_code:
        alias: example_alias
      http.route:
        alias: example_alias
      network.local.address:
        alias: example_alias
      network.local.port:
        alias: example_alias
      network.peer.address:
        alias: example_alias
      network.peer.port:
        alias: example_alias
      network.protocol.name:
        alias: example_alias
      network.protocol.version:
        alias: example_alias
      network.transport:
        alias: example_alias
      network.type:
        alias: example_alias
      server.address:
        alias: example_alias
      server.port:
        alias: example_alias
      trace_id:
        alias: example_alias
      url.path:
        alias: example_alias
      url.query:
        alias: example_alias
      url.scheme:
        alias: example_alias
      user_agent.original:
        alias: example_alias
```


---

### `telemetry.instrumentation.instruments.router.http.server.active_requests`

- **Type:** `any`

```yaml title="telemetry.instrumentation.instruments.router.http.server.active_requests"
# Value not generated in example data
```


---

### `telemetry.instrumentation.instruments.router.http.server.request.body.size`

- **Type:** `any`

```yaml title="telemetry.instrumentation.instruments.router.http.server.request.body.size"
# Value not generated in example data
```


---

### `telemetry.instrumentation.instruments.router.http.server.request.duration`

- **Type:** `any`

```yaml title="telemetry.instrumentation.instruments.router.http.server.request.duration"
# Value not generated in example data
```


---

### `telemetry.instrumentation.instruments.router.http.server.response.body.size`

- **Type:** `any`

```yaml title="telemetry.instrumentation.instruments.router.http.server.response.body.size"
# Value not generated in example data
```


---

### `telemetry.instrumentation.instruments.subgraph`

- **Type:** `object`

```yaml title="telemetry.instrumentation.instruments.subgraph"
subgraph:
  http.client.request.body.size:
    attributes:
      http.request.resend_count:
        alias: example_alias
      subgraph.graphql.document:
        alias: example_alias
      subgraph.graphql.operation.name:
        alias: example_alias
      subgraph.graphql.operation.type:
        alias: example_alias
      subgraph.name:
        alias: example_alias
  http.client.request.duration:
    attributes:
      http.request.resend_count:
        alias: example_alias
      subgraph.graphql.document:
        alias: example_alias
      subgraph.graphql.operation.name:
        alias: example_alias
      subgraph.graphql.operation.type:
        alias: example_alias
      subgraph.name:
        alias: example_alias
  http.client.response.body.size:
    attributes:
      http.request.resend_count:
        alias: example_alias
      subgraph.graphql.document:
        alias: example_alias
      subgraph.graphql.operation.name:
        alias: example_alias
      subgraph.graphql.operation.type:
        alias: example_alias
      subgraph.name:
        alias: example_alias
```


---

### `telemetry.instrumentation.instruments.subgraph.http.client.request.body.size`

- **Type:** `any`

```yaml title="telemetry.instrumentation.instruments.subgraph.http.client.request.body.size"
# Value not generated in example data
```


---

### `telemetry.instrumentation.instruments.subgraph.http.client.request.duration`

- **Type:** `any`

```yaml title="telemetry.instrumentation.instruments.subgraph.http.client.request.duration"
# Value not generated in example data
```


---

### `telemetry.instrumentation.instruments.subgraph.http.client.response.body.size`

- **Type:** `any`

```yaml title="telemetry.instrumentation.instruments.subgraph.http.client.response.body.size"
# Value not generated in example data
```


---

### `telemetry.instrumentation.instruments.supergraph`

- **Type:** `object`

```yaml title="telemetry.instrumentation.instruments.supergraph"
supergraph:
  cost.actual:
    attributes:
      cost.actual:
        alias: example_alias
      cost.delta:
        alias: example_alias
      cost.estimated:
        alias: example_alias
      cost.result:
        alias: example_alias
      graphql.document:
        alias: example_alias
      graphql.operation.name:
        alias: example_alias
      graphql.operation.type:
        alias: example_alias
  cost.delta:
    attributes:
      cost.actual:
        alias: example_alias
      cost.delta:
        alias: example_alias
      cost.estimated:
        alias: example_alias
      cost.result:
        alias: example_alias
      graphql.document:
        alias: example_alias
      graphql.operation.name:
        alias: example_alias
      graphql.operation.type:
        alias: example_alias
  cost.estimated:
    attributes:
      cost.actual:
        alias: example_alias
      cost.delta:
        alias: example_alias
      cost.estimated:
        alias: example_alias
      cost.result:
        alias: example_alias
      graphql.document:
        alias: example_alias
      graphql.operation.name:
        alias: example_alias
      graphql.operation.type:
        alias: example_alias
```


---

### `telemetry.instrumentation.instruments.supergraph.cost.actual`

- **Type:** `any`

```yaml title="telemetry.instrumentation.instruments.supergraph.cost.actual"
# Value not generated in example data
```


---

### `telemetry.instrumentation.instruments.supergraph.cost.delta`

- **Type:** `any`

```yaml title="telemetry.instrumentation.instruments.supergraph.cost.delta"
# Value not generated in example data
```


---

### `telemetry.instrumentation.instruments.supergraph.cost.estimated`

- **Type:** `any`

```yaml title="telemetry.instrumentation.instruments.supergraph.cost.estimated"
# Value not generated in example data
```


---

### `telemetry.instrumentation.spans`

- **Type:** `object`

```yaml title="telemetry.instrumentation.spans"
spans:
  connector:
    attributes:
      connector.http.method:
        alias: example_alias
      connector.source.name:
        alias: example_alias
      connector.url.template:
        alias: example_alias
      subgraph.name:
        alias: example_alias
  default_attribute_requirement_level: none
  mode: deprecated
  router:
    attributes:
      baggage: null
      dd.trace_id:
        alias: example_alias
      error.type:
        alias: example_alias
      http.request.body.size:
        alias: example_alias
      http.request.method:
        alias: example_alias
      http.response.body.size:
        alias: example_alias
      http.response.status_code:
        alias: example_alias
      http.route:
        alias: example_alias
      network.local.address:
        alias: example_alias
      network.local.port:
        alias: example_alias
      network.peer.address:
        alias: example_alias
      network.peer.port:
        alias: example_alias
      network.protocol.name:
        alias: example_alias
      network.protocol.version:
        alias: example_alias
      network.transport:
        alias: example_alias
      network.type:
        alias: example_alias
      server.address:
        alias: example_alias
      server.port:
        alias: example_alias
      trace_id:
        alias: example_alias
      url.path:
        alias: example_alias
      url.query:
        alias: example_alias
      url.scheme:
        alias: example_alias
      user_agent.original:
        alias: example_alias
  subgraph:
    attributes:
      http.request.resend_count:
        alias: example_alias
      subgraph.graphql.document:
        alias: example_alias
      subgraph.graphql.operation.name:
        alias: example_alias
      subgraph.graphql.operation.type:
        alias: example_alias
      subgraph.name:
        alias: example_alias
  supergraph:
    attributes:
      cost.actual:
        alias: example_alias
      cost.delta:
        alias: example_alias
      cost.estimated:
        alias: example_alias
      cost.result:
        alias: example_alias
      graphql.document:
        alias: example_alias
      graphql.operation.name:
        alias: example_alias
      graphql.operation.type:
        alias: example_alias
```


---

### `telemetry.instrumentation.spans.connector`

- **Type:** `object`

```yaml title="telemetry.instrumentation.spans.connector"
connector:
  attributes:
    connector.http.method:
      alias: example_alias
    connector.source.name:
      alias: example_alias
    connector.url.template:
      alias: example_alias
    subgraph.name:
      alias: example_alias
```


---

### `telemetry.instrumentation.spans.connector.attributes`

- **Type:** `object`

```yaml title="telemetry.instrumentation.spans.connector.attributes"
attributes:
  connector.http.method:
    alias: example_alias
  connector.source.name:
    alias: example_alias
  connector.url.template:
    alias: example_alias
  subgraph.name:
    alias: example_alias
```


---

### `telemetry.instrumentation.spans.default_attribute_requirement_level`

- **Type:** `any`

```yaml title="telemetry.instrumentation.spans.default_attribute_requirement_level"
default_attribute_requirement_level: none
```


---

### `telemetry.instrumentation.spans.mode`

Span mode to create new or deprecated spans

- **Type:** `any`

```yaml title="telemetry.instrumentation.spans.mode"
mode: deprecated
```


---

### `telemetry.instrumentation.spans.router`

- **Type:** `object`

```yaml title="telemetry.instrumentation.spans.router"
router:
  attributes:
    baggage: null
    dd.trace_id:
      alias: example_alias
    error.type:
      alias: example_alias
    http.request.body.size:
      alias: example_alias
    http.request.method:
      alias: example_alias
    http.response.body.size:
      alias: example_alias
    http.response.status_code:
      alias: example_alias
    http.route:
      alias: example_alias
    network.local.address:
      alias: example_alias
    network.local.port:
      alias: example_alias
    network.peer.address:
      alias: example_alias
    network.peer.port:
      alias: example_alias
    network.protocol.name:
      alias: example_alias
    network.protocol.version:
      alias: example_alias
    network.transport:
      alias: example_alias
    network.type:
      alias: example_alias
    server.address:
      alias: example_alias
    server.port:
      alias: example_alias
    trace_id:
      alias: example_alias
    url.path:
      alias: example_alias
    url.query:
      alias: example_alias
    url.scheme:
      alias: example_alias
    user_agent.original:
      alias: example_alias
```


---

### `telemetry.instrumentation.spans.router.attributes`

Common attributes for http server and client. See https://opentelemetry.io/docs/specs/semconv/http/http-spans/#common-attributes

- **Type:** `object`

```yaml title="telemetry.instrumentation.spans.router.attributes"
attributes:
  baggage: null
  dd.trace_id:
    alias: example_alias
  error.type:
    alias: example_alias
  http.request.body.size:
    alias: example_alias
  http.request.method:
    alias: example_alias
  http.response.body.size:
    alias: example_alias
  http.response.status_code:
    alias: example_alias
  http.route:
    alias: example_alias
  network.local.address:
    alias: example_alias
  network.local.port:
    alias: example_alias
  network.peer.address:
    alias: example_alias
  network.peer.port:
    alias: example_alias
  network.protocol.name:
    alias: example_alias
  network.protocol.version:
    alias: example_alias
  network.transport:
    alias: example_alias
  network.type:
    alias: example_alias
  server.address:
    alias: example_alias
  server.port:
    alias: example_alias
  trace_id:
    alias: example_alias
  url.path:
    alias: example_alias
  url.query:
    alias: example_alias
  url.scheme:
    alias: example_alias
  user_agent.original:
    alias: example_alias
```


---

### `telemetry.instrumentation.spans.subgraph`

- **Type:** `object`

```yaml title="telemetry.instrumentation.spans.subgraph"
subgraph:
  attributes:
    http.request.resend_count:
      alias: example_alias
    subgraph.graphql.document:
      alias: example_alias
    subgraph.graphql.operation.name:
      alias: example_alias
    subgraph.graphql.operation.type:
      alias: example_alias
    subgraph.name:
      alias: example_alias
```


---

### `telemetry.instrumentation.spans.subgraph.attributes`

- **Type:** `object`

```yaml title="telemetry.instrumentation.spans.subgraph.attributes"
attributes:
  http.request.resend_count:
    alias: example_alias
  subgraph.graphql.document:
    alias: example_alias
  subgraph.graphql.operation.name:
    alias: example_alias
  subgraph.graphql.operation.type:
    alias: example_alias
  subgraph.name:
    alias: example_alias
```


---

### `telemetry.instrumentation.spans.supergraph`

- **Type:** `object`

```yaml title="telemetry.instrumentation.spans.supergraph"
supergraph:
  attributes:
    cost.actual:
      alias: example_alias
    cost.delta:
      alias: example_alias
    cost.estimated:
      alias: example_alias
    cost.result:
      alias: example_alias
    graphql.document:
      alias: example_alias
    graphql.operation.name:
      alias: example_alias
    graphql.operation.type:
      alias: example_alias
```


---

### `telemetry.instrumentation.spans.supergraph.attributes`

Attributes for Cost

- **Type:** `object`

```yaml title="telemetry.instrumentation.spans.supergraph.attributes"
attributes:
  cost.actual:
    alias: example_alias
  cost.delta:
    alias: example_alias
  cost.estimated:
    alias: example_alias
  cost.result:
    alias: example_alias
  graphql.document:
    alias: example_alias
  graphql.operation.name:
    alias: example_alias
  graphql.operation.type:
    alias: example_alias
```


---

### `tls`

TLS related configuration options.

- **Type:** `object`

```yaml title="tls"
tls:
  connector:
    all:
      certificate_authorities: null
      client_authentication:
        certificate_chain: example_certificate_chain
        key: example_key
    sources: {}
  subgraph:
    all:
      certificate_authorities: null
      client_authentication:
        certificate_chain: example_certificate_chain
        key: example_key
    subgraphs: {}
  supergraph:
    certificate: example_certificate
    certificate_chain: example_certificate_chain
    key: example_key
```


---

### `tls.connector`

- **Type:** `object`

```yaml title="tls.connector"
connector:
  all:
    certificate_authorities: null
    client_authentication:
      certificate_chain: example_certificate_chain
      key: example_key
  sources: {}
```


---

### `tls.connector.all`

Configuration options pertaining to the subgraph server component.

- **Type:** `object`

```yaml title="tls.connector.all"
all:
  certificate_authorities: null
  client_authentication:
    certificate_chain: example_certificate_chain
    key: example_key
```


---

### `tls.connector.all.certificate_authorities`

list of certificate authorities in PEM format

- **Type:** `string`
- **Default:** `None`

```yaml title="tls.connector.all.certificate_authorities"
certificate_authorities: null
```


---

### `tls.connector.all.client_authentication`

TLS client authentication

- **Type:** `object`

```yaml title="tls.connector.all.client_authentication"
client_authentication:
  certificate_chain: example_certificate_chain
  key: example_key
```


---

### `tls.connector.all.client_authentication.certificate_chain`

list of certificates in PEM format

- **Type:** `string`

```yaml title="tls.connector.all.client_authentication.certificate_chain"
certificate_chain: example_certificate_chain
```


---

### `tls.connector.all.client_authentication.key`

key in PEM format

- **Type:** `string`

```yaml title="tls.connector.all.client_authentication.key"
key: example_key
```


---

### `tls.connector.sources`

Map of subgraph_name.connector_source_name to configuration

- **Type:** `object`
- **Default:** `{}`

```yaml title="tls.connector.sources"
sources: {}
```


---

### `tls.subgraph`

Configuration options pertaining to the subgraph server component.

- **Type:** `object`

```yaml title="tls.subgraph"
subgraph:
  all:
    certificate_authorities: null
    client_authentication:
      certificate_chain: example_certificate_chain
      key: example_key
  subgraphs: {}
```


---

### `tls.subgraph.all`

Configuration options pertaining to the subgraph server component.

- **Type:** `object`

```yaml title="tls.subgraph.all"
all:
  certificate_authorities: null
  client_authentication:
    certificate_chain: example_certificate_chain
    key: example_key
```


---

### `tls.subgraph.all.certificate_authorities`

list of certificate authorities in PEM format

- **Type:** `string`
- **Default:** `None`

```yaml title="tls.subgraph.all.certificate_authorities"
certificate_authorities: null
```


---

### `tls.subgraph.all.client_authentication`

TLS client authentication

- **Type:** `object`

```yaml title="tls.subgraph.all.client_authentication"
client_authentication:
  certificate_chain: example_certificate_chain
  key: example_key
```


---

### `tls.subgraph.all.client_authentication.certificate_chain`

list of certificates in PEM format

- **Type:** `string`

```yaml title="tls.subgraph.all.client_authentication.certificate_chain"
certificate_chain: example_certificate_chain
```


---

### `tls.subgraph.all.client_authentication.key`

key in PEM format

- **Type:** `string`

```yaml title="tls.subgraph.all.client_authentication.key"
key: example_key
```


---

### `tls.subgraph.subgraphs`

per subgraph options

- **Type:** `object`
- **Default:** `{}`

```yaml title="tls.subgraph.subgraphs"
subgraphs: {}
```


---

### `tls.supergraph`

Configuration options pertaining to the supergraph server component.

- **Type:** `object`

```yaml title="tls.supergraph"
supergraph:
  certificate: example_certificate
  certificate_chain: example_certificate_chain
  key: example_key
```


---

### `tls.supergraph.certificate`

server certificate in PEM format

- **Type:** `string`

```yaml title="tls.supergraph.certificate"
certificate: example_certificate
```


---

### `tls.supergraph.certificate_chain`

list of certificate authorities in PEM format

- **Type:** `string`

```yaml title="tls.supergraph.certificate_chain"
certificate_chain: example_certificate_chain
```


---

### `tls.supergraph.key`

server key in PEM format

- **Type:** `string`

```yaml title="tls.supergraph.key"
key: example_key
```


---

### `traffic_shaping`

Configuration for the experimental traffic shaping plugin

- **Type:** `object`

```yaml title="traffic_shaping"
traffic_shaping:
  all:
    compression: gzip
    deduplicate_query: false
    dns_resolution_strategy: ipv4_only
    experimental_http2: enable
    global_rate_limit:
      capacity: 1
      interval: 30s
    timeout: null
  connector:
    all:
      compression: gzip
      dns_resolution_strategy: ipv4_only
      experimental_http2: enable
      global_rate_limit:
        capacity: 1
        interval: 30s
      timeout: null
    sources: {}
  deduplicate_variables: null
  router:
    concurrency_limit: 0
    global_rate_limit:
      capacity: 1
      interval: 30s
    timeout: null
  subgraphs: {}
```


---

### `traffic_shaping.all`

Traffic shaping options

- **Type:** `object`

```yaml title="traffic_shaping.all"
all:
  compression: gzip
  deduplicate_query: false
  dns_resolution_strategy: ipv4_only
  experimental_http2: enable
  global_rate_limit:
    capacity: 1
    interval: 30s
  timeout: null
```


---

### `traffic_shaping.all.compression`

- **Type:** `any`

```yaml title="traffic_shaping.all.compression"
compression: gzip
```


---

### `traffic_shaping.all.deduplicate_query`

Enable query deduplication

- **Type:** `boolean`

```yaml title="traffic_shaping.all.deduplicate_query"
deduplicate_query: false
```


---

### `traffic_shaping.all.dns_resolution_strategy`

- **Type:** `any`

```yaml title="traffic_shaping.all.dns_resolution_strategy"
dns_resolution_strategy: ipv4_only
```


---

### `traffic_shaping.all.experimental_http2`

- **Type:** `any`

```yaml title="traffic_shaping.all.experimental_http2"
experimental_http2: enable
```


---

### `traffic_shaping.all.global_rate_limit`

- **Type:** `object`

```yaml title="traffic_shaping.all.global_rate_limit"
global_rate_limit:
  capacity: 1
  interval: 30s
```


---

### `traffic_shaping.all.global_rate_limit.capacity`

Number of requests allowed

- **Type:** `integer`
- **Minimum:** `1.0`

```yaml title="traffic_shaping.all.global_rate_limit.capacity"
capacity: 1
```


---

### `traffic_shaping.all.global_rate_limit.interval`

Per interval

- **Type:** `string`

```yaml title="traffic_shaping.all.global_rate_limit.interval"
interval: 30s
```


---

### `traffic_shaping.all.timeout`

Enable timeout for incoming requests

- **Type:** `string`
- **Default:** `None`

```yaml title="traffic_shaping.all.timeout"
timeout: null
```


---

### `traffic_shaping.connector`

- **Type:** `object`

```yaml title="traffic_shaping.connector"
connector:
  all:
    compression: gzip
    dns_resolution_strategy: ipv4_only
    experimental_http2: enable
    global_rate_limit:
      capacity: 1
      interval: 30s
    timeout: null
  sources: {}
```


---

### `traffic_shaping.connector.all`

- **Type:** `object`

```yaml title="traffic_shaping.connector.all"
all:
  compression: gzip
  dns_resolution_strategy: ipv4_only
  experimental_http2: enable
  global_rate_limit:
    capacity: 1
    interval: 30s
  timeout: null
```


---

### `traffic_shaping.connector.all.compression`

- **Type:** `any`

```yaml title="traffic_shaping.connector.all.compression"
compression: gzip
```


---

### `traffic_shaping.connector.all.dns_resolution_strategy`

- **Type:** `any`

```yaml title="traffic_shaping.connector.all.dns_resolution_strategy"
dns_resolution_strategy: ipv4_only
```


---

### `traffic_shaping.connector.all.experimental_http2`

- **Type:** `any`

```yaml title="traffic_shaping.connector.all.experimental_http2"
experimental_http2: enable
```


---

### `traffic_shaping.connector.all.global_rate_limit`

- **Type:** `object`

```yaml title="traffic_shaping.connector.all.global_rate_limit"
global_rate_limit:
  capacity: 1
  interval: 30s
```


---

### `traffic_shaping.connector.all.global_rate_limit.capacity`

Number of requests allowed

- **Type:** `integer`
- **Minimum:** `1.0`

```yaml title="traffic_shaping.connector.all.global_rate_limit.capacity"
capacity: 1
```


---

### `traffic_shaping.connector.all.global_rate_limit.interval`

Per interval

- **Type:** `string`

```yaml title="traffic_shaping.connector.all.global_rate_limit.interval"
interval: 30s
```


---

### `traffic_shaping.connector.all.timeout`

Enable timeout for connectors requests

- **Type:** `string`
- **Default:** `None`

```yaml title="traffic_shaping.connector.all.timeout"
timeout: null
```


---

### `traffic_shaping.connector.sources`

Applied on specific connector sources

- **Type:** `object`

```yaml title="traffic_shaping.connector.sources"
sources: {}
```


---

### `traffic_shaping.deduplicate_variables`

DEPRECATED, now always enabled: Enable variable deduplication optimization when sending requests to subgraphs (https://github.com/apollographql/router/issues/87)

- **Type:** `boolean`
- **Default:** `None`

```yaml title="traffic_shaping.deduplicate_variables"
deduplicate_variables: null
```


---

### `traffic_shaping.router`

- **Type:** `object`

```yaml title="traffic_shaping.router"
router:
  concurrency_limit: 0
  global_rate_limit:
    capacity: 1
    interval: 30s
  timeout: null
```


---

### `traffic_shaping.router.concurrency_limit`

The global concurrency limit

- **Type:** `integer`
- **Minimum:** `0.0`

```yaml title="traffic_shaping.router.concurrency_limit"
concurrency_limit: 0
```


---

### `traffic_shaping.router.global_rate_limit`

- **Type:** `object`

```yaml title="traffic_shaping.router.global_rate_limit"
global_rate_limit:
  capacity: 1
  interval: 30s
```


---

### `traffic_shaping.router.global_rate_limit.capacity`

Number of requests allowed

- **Type:** `integer`
- **Minimum:** `1.0`

```yaml title="traffic_shaping.router.global_rate_limit.capacity"
capacity: 1
```


---

### `traffic_shaping.router.global_rate_limit.interval`

Per interval

- **Type:** `string`

```yaml title="traffic_shaping.router.global_rate_limit.interval"
interval: 30s
```


---

### `traffic_shaping.router.timeout`

Enable timeout for incoming requests

- **Type:** `string`
- **Default:** `None`

```yaml title="traffic_shaping.router.timeout"
timeout: null
```


---

### `traffic_shaping.subgraphs`

Applied on specific subgraphs

- **Type:** `object`

```yaml title="traffic_shaping.subgraphs"
subgraphs: {}
```
